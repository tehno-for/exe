// Raphaël 2.1.0 - JavaScript Vector Library 
!function (t) { var e, r, i = "0.3.4", n = "hasOwnProperty", a = /[\.\/]/, s = function () { }, o = function (t, e) { return t - e }, l = { n: {} }, h = function (t, i) { var n, a = r, s = Array.prototype.slice.call(arguments, 2), l = h.listeners(t), u = 0, c = [], f = {}, p = [], d = e; e = t, r = 0; for (var g = 0, v = l.length; g < v; g++) "zIndex" in l[g] && (c.push(l[g].zIndex), l[g].zIndex < 0 && (f[l[g].zIndex] = l[g])); for (c.sort(o) ; c[u] < 0;) if (n = f[c[u++]], p.push(n.apply(i, s)), r) return r = a, p; for (g = 0; g < v; g++) if ("zIndex" in (n = l[g])) if (n.zIndex == c[u]) { if (p.push(n.apply(i, s)), r) break; do { if ((n = f[c[++u]]) && p.push(n.apply(i, s)), r) break } while (n) } else f[n.zIndex] = n; else if (p.push(n.apply(i, s)), r) break; return r = a, e = d, p.length ? p : null }; h.listeners = function (t) { var e, r, i, n, s, o, h, u, c = t.split(a), f = l, p = [f], d = []; for (n = 0, s = c.length; n < s; n++) { for (u = [], o = 0, h = p.length; o < h; o++) for (r = [(f = p[o].n)[c[n]], f["*"]], i = 2; i--;) (e = r[i]) && (u.push(e), d = d.concat(e.f || [])); p = u } return d }, h.on = function (t, e) { for (var r = t.split(a), i = l, n = 0, o = r.length; n < o; n++) !(i = i.n)[r[n]] && (i[r[n]] = { n: {} }), i = i[r[n]]; for (i.f = i.f || [], n = 0, o = i.f.length; n < o; n++) if (i.f[n] == e) return s; return i.f.push(e), function (t) { +t == +t && (e.zIndex = +t) } }, h.stop = function () { r = 1 }, h.nt = function (t) { return t ? new RegExp("(?:\\.|\\/|^)" + t + "(?:\\.|\\/|$)").test(e) : e }, h.off = h.unbind = function (t, e) { var r, i, s, o, h, u, c, f = t.split(a), p = [l]; for (o = 0, h = f.length; o < h; o++) for (u = 0; u < p.length; u += s.length - 2) { if (s = [u, 1], r = p[u].n, "*" != f[o]) r[f[o]] && s.push(r[f[o]]); else for (i in r) r[n](i) && s.push(r[i]); p.splice.apply(p, s) } for (o = 0, h = p.length; o < h; o++) for (r = p[o]; r.n;) { if (e) { if (r.f) { for (u = 0, c = r.f.length; u < c; u++) if (r.f[u] == e) { r.f.splice(u, 1); break } !r.f.length && delete r.f } for (i in r.n) if (r.n[n](i) && r.n[i].f) { var d = r.n[i].f; for (u = 0, c = d.length; u < c; u++) if (d[u] == e) { d.splice(u, 1); break } !d.length && delete r.n[i].f } } else { delete r.f; for (i in r.n) r.n[n](i) && r.n[i].f && delete r.n[i].f } r = r.n } }, h.once = function (t, e) { var r = function () { var i = e.apply(this, arguments); return h.unbind(t, r), i }; return h.on(t, r) }, h.version = i, h.toString = function () { return "You are running Eve " + i }, "undefined" != typeof module && module.exports ? module.exports = h : "undefined" != typeof define ? define("eve", [], function () { return h }) : t.eve = h }(this), function () { function t(r) { if (t.is(r, "function")) return e ? r() : eve.on("raphael.DOMload", r); if (t.is(r, A)) return t._engine.create[u](t, r.splice(0, 3 + t.is(r[0], B))).add(r); var i = Array.prototype.slice.call(arguments, 0); if (t.is(i[i.length - 1], "function")) { var n = i.pop(); return e ? n.call(t._engine.create[u](t, i)) : eve.on("raphael.DOMload", function () { n.call(t._engine.create[u](t, i)) }) } return t._engine.create[u](t, arguments) } t.version = "2.1.0", t.eve = eve; var e, r, i = /[, ]+/, n = { circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1 }, a = /\{(\d+)\}/g, s = "hasOwnProperty", o = { doc: document, win: window }, l = { was: Object.prototype[s].call(o.win, "Raphael"), is: o.win.Raphael }, h = function () { this.ca = this.customAttributes = {} }, u = "apply", c = "concat", f = "createTouch" in o.doc, p = " ", d = String, g = "split", v = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[g](p), x = { mousedown: "touchstart", mousemove: "touchmove", mouseup: "touchend" }, y = d.prototype.toLowerCase, m = Math, b = m.max, _ = m.min, w = m.abs, k = m.pow, C = m.PI, B = "number", S = "string", A = "array", T = Object.prototype.toString, N = (t._ISURL = /^url\(['"]?([^\)]+?)['"]?\)$/i, /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i), L = { NaN: 1, Infinity: 1, "-Infinity": 1 }, M = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/, z = m.round, E = parseFloat, F = parseInt, R = d.prototype.toUpperCase, P = t._availableAttrs = { "arrow-end": "none", "arrow-start": "none", blur: 0, "clip-rect": "0 0 1e9 1e9", cursor: "default", cx: 0, cy: 0, fill: "#fff", "fill-opacity": 1, font: '10px "Arial"', "font-family": '"Arial"', "font-size": "10", "font-style": "normal", "font-weight": 400, gradient: 0, height: 0, href: "http://raphaeljs.com/", "letter-spacing": 0, opacity: 1, path: "M0,0", r: 0, rx: 0, ry: 0, src: "", stroke: "#000", "stroke-dasharray": "", "stroke-linecap": "butt", "stroke-linejoin": "butt", "stroke-miterlimit": 0, "stroke-opacity": 1, "stroke-width": 1, target: "_blank", "text-anchor": "middle", title: "Raphael", transform: "", width: 0, x: 0, y: 0 }, I = t._availableAnimAttrs = { blur: B, "clip-rect": "csv", cx: B, cy: B, fill: "colour", "fill-opacity": B, "font-size": B, height: B, opacity: B, path: "path", r: B, rx: B, ry: B, stroke: "colour", "stroke-opacity": B, "stroke-width": B, transform: "transform", width: B, x: B, y: B }, j = /[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/, q = { hs: 1, rg: 1 }, D = /,?([achlmqrstvxz]),?/gi, V = /([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi, O = /([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi, Y = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi, G = (t._radial_gradient = /^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/, {}), W = function (t, e) { return E(t) - E(e) }, X = function (t) { return t }, H = t._rectPath = function (t, e, r, i, n) { return n ? [["M", t + n, e], ["l", r - 2 * n, 0], ["a", n, n, 0, 0, 1, n, n], ["l", 0, i - 2 * n], ["a", n, n, 0, 0, 1, -n, n], ["l", 2 * n - r, 0], ["a", n, n, 0, 0, 1, -n, -n], ["l", 0, 2 * n - i], ["a", n, n, 0, 0, 1, n, -n], ["z"]] : [["M", t, e], ["l", r, 0], ["l", 0, i], ["l", -r, 0], ["z"]] }, U = function (t, e, r, i) { return null == i && (i = r), [["M", t, e], ["m", 0, -i], ["a", r, i, 0, 1, 1, 0, 2 * i], ["a", r, i, 0, 1, 1, 0, -2 * i], ["z"]] }, $ = t._getPath = { path: function (t) { return t.attr("path") }, circle: function (t) { var e = t.attrs; return U(e.cx, e.cy, e.r) }, ellipse: function (t) { var e = t.attrs; return U(e.cx, e.cy, e.rx, e.ry) }, rect: function (t) { var e = t.attrs; return H(e.x, e.y, e.width, e.height, e.r) }, image: function (t) { var e = t.attrs; return H(e.x, e.y, e.width, e.height) }, text: function (t) { var e = t._getBBox(); return H(e.x, e.y, e.width, e.height) } }, Z = t.mapPath = function (t, e) { if (!e) return t; var r, i, n, a, s, o, l; for (n = 0, s = (t = St(t)).length; n < s; n++) for (a = 1, o = (l = t[n]).length; a < o; a += 2) r = e.x(l[a], l[a + 1]), i = e.y(l[a], l[a + 1]), l[a] = r, l[a + 1] = i; return t }; if (t._g = o, t.type = o.win.SVGAngle || o.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML", "VML" == t.type) { var Q, J = o.doc.createElement("div"); if (J.innerHTML = '<v:shape adj="1"/>', (Q = J.firstChild).style.behavior = "url(#default#VML)", !Q || "object" != typeof Q.adj) return t.type = ""; J = null } function K(t) { if (Object(t) !== t) return t; var e = new t.constructor; for (var r in t) t[s](r) && (e[r] = K(t[r])); return e } t.svg = !(t.vml = "VML" == t.type), t._Paper = h, t.fn = r = h.prototype = t.prototype, t._id = 0, t._oid = 0, t.is = function (t, e) { return "finite" == (e = y.call(e)) ? !L[s](+t) : "array" == e ? t instanceof Array : "null" == e && null === t || e == typeof t && null !== t || "object" == e && t === Object(t) || "array" == e && Array.isArray && Array.isArray(t) || T.call(t).slice(8, -1).toLowerCase() == e }, t.angle = function (e, r, i, n, a, s) { if (null == a) { var o = e - i, l = r - n; return o || l ? (180 + 180 * m.atan2(-l, -o) / C + 360) % 360 : 0 } return t.angle(e, r, a, s) - t.angle(i, n, a, s) }, t.rad = function (t) { return t % 360 * C / 180 }, t.deg = function (t) { return 180 * t / C % 360 }, t.snapTo = function (e, r, i) { if (i = t.is(i, "finite") ? i : 10, t.is(e, A)) { for (var n = e.length; n--;) if (w(e[n] - r) <= i) return e[n] } else { var a = r % (e = +e); if (a < i) return r - a; if (a > e - i) return r - a + e } return r }; var tt, et; t.createUUID = (tt = /[xy]/g, et = function (t) { var e = 16 * m.random() | 0; return ("x" == t ? e : 3 & e | 8).toString(16) }, function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(tt, et).toUpperCase() }); t.setWindow = function (e) { eve("raphael.setWindow", t, o.win, e), o.win = e, o.doc = o.win.document, t._engine.initWin && t._engine.initWin(o.win) }; var rt = function (e) { if (t.vml) { var r, i = /^\s+|\s+$/g; try { var n = new ActiveXObject("htmlfile"); n.write("<body>"), n.close(), r = n.body } catch (t) { r = createPopup().document.body } var a = r.createTextRange(); rt = lt(function (t) { try { r.style.color = d(t).replace(i, ""); var e = a.queryCommandValue("ForeColor"); return "#" + ("000000" + (e = (255 & e) << 16 | 65280 & e | (16711680 & e) >>> 16).toString(16)).slice(-6) } catch (t) { return "none" } }) } else { var s = o.doc.createElement("i"); s.title = "Raphaël Colour Picker", s.style.display = "none", o.doc.body.appendChild(s), rt = lt(function (t) { return s.style.color = t, o.doc.defaultView.getComputedStyle(s, "").getPropertyValue("color") }) } return rt(e) }, it = function () { return "hsb(" + [this.h, this.s, this.b] + ")" }, nt = function () { return "hsl(" + [this.h, this.s, this.l] + ")" }, at = function () { return this.hex }, st = function (e, r, i) { if (null == r && t.is(e, "object") && "r" in e && "g" in e && "b" in e && (i = e.b, r = e.g, e = e.r), null == r && t.is(e, S)) { var n = t.getRGB(e); e = n.r, r = n.g, i = n.b } return (e > 1 || r > 1 || i > 1) && (e /= 255, r /= 255, i /= 255), [e, r, i] }, ot = function (e, r, i, n) { var a = { r: e *= 255, g: r *= 255, b: i *= 255, hex: t.rgb(e, r, i), toString: at }; return t.is(n, "finite") && (a.opacity = n), a }; function lt(t, e, r) { return function i() { var n = Array.prototype.slice.call(arguments, 0), a = n.join("␀"), o = i.cache = i.cache || {}, l = i.count = i.count || []; return o[s](a) ? (function (t, e) { for (var r = 0, i = t.length; r < i; r++) if (t[r] === e) return t.push(t.splice(r, 1)[0]) }(l, a), r ? r(o[a]) : o[a]) : (l.length >= 1e3 && delete o[l.shift()], l.push(a), o[a] = t[u](e, n), r ? r(o[a]) : o[a]) } } t.color = function (e) { var r; return t.is(e, "object") && "h" in e && "s" in e && "b" in e ? (r = t.hsb2rgb(e), e.r = r.r, e.g = r.g, e.b = r.b, e.hex = r.hex) : t.is(e, "object") && "h" in e && "s" in e && "l" in e ? (r = t.hsl2rgb(e), e.r = r.r, e.g = r.g, e.b = r.b, e.hex = r.hex) : (t.is(e, "string") && (e = t.getRGB(e)), t.is(e, "object") && "r" in e && "g" in e && "b" in e ? (r = t.rgb2hsl(e), e.h = r.h, e.s = r.s, e.l = r.l, r = t.rgb2hsb(e), e.v = r.b) : (e = { hex: "none" }).r = e.g = e.b = e.h = e.s = e.v = e.l = -1), e.toString = at, e }, t.hsb2rgb = function (t, e, r, i) { var n, a, s, o, l; return this.is(t, "object") && "h" in t && "s" in t && "b" in t && (r = t.b, e = t.s, i = (t = t.h).o), o = (l = r * e) * (1 - w((t = (t *= 360) % 360 / 60) % 2 - 1)), n = a = s = r - l, ot(n += [l, o, 0, 0, o, l][t = ~~t], a += [o, l, l, o, 0, 0][t], s += [0, 0, o, l, l, o][t], i) }, t.hsl2rgb = function (t, e, r, i) { var n, a, s, o, l; return this.is(t, "object") && "h" in t && "s" in t && "l" in t && (r = t.l, e = t.s, t = t.h), (t > 1 || e > 1 || r > 1) && (t /= 360, e /= 100, r /= 100), t = (t *= 360) % 360 / 60, o = (l = 2 * e * (r < .5 ? r : 1 - r)) * (1 - w(t % 2 - 1)), n = a = s = r - l / 2, ot(n += [l, o, 0, 0, o, l][t = ~~t], a += [o, l, l, o, 0, 0][t], s += [0, 0, o, l, l, o][t], i) }, t.rgb2hsb = function (t, e, r) { var i, n; return t = (r = st(t, e, r))[0], e = r[1], r = r[2], { h: ((0 == (n = (i = b(t, e, r)) - _(t, e, r)) ? null : i == t ? (e - r) / n : i == e ? (r - t) / n + 2 : (t - e) / n + 4) + 360) % 6 * 60 / 360, s: 0 == n ? 0 : n / i, b: i, toString: it } }, t.rgb2hsl = function (t, e, r) { var i, n, a, s; return t = (r = st(t, e, r))[0], e = r[1], r = r[2], i = ((n = b(t, e, r)) + (a = _(t, e, r))) / 2, { h: ((0 == (s = n - a) ? null : n == t ? (e - r) / s : n == e ? (r - t) / s + 2 : (t - e) / s + 4) + 360) % 6 * 60 / 360, s: 0 == s ? 0 : i < .5 ? s / (2 * i) : s / (2 - 2 * i), l: i, toString: nt } }, t._path2string = function () { return this.join(",").replace(D, "$1") }; t._preload = function (t, e) { var r = o.doc.createElement("img"); r.style.cssText = "position:absolute;left:-9999em;top:-9999em", r.onload = function () { e.call(this), this.onload = null, o.doc.body.removeChild(this) }, r.onerror = function () { o.doc.body.removeChild(this) }, o.doc.body.appendChild(r), r.src = t }; function ht() { return this.hex } function ut(t, e) { for (var r = [], i = 0, n = t.length; n - 2 * !e > i; i += 2) { var a = [{ x: +t[i - 2], y: +t[i - 1] }, { x: +t[i], y: +t[i + 1] }, { x: +t[i + 2], y: +t[i + 3] }, { x: +t[i + 4], y: +t[i + 5] }]; e ? i ? n - 4 == i ? a[3] = { x: +t[0], y: +t[1] } : n - 2 == i && (a[2] = { x: +t[0], y: +t[1] }, a[3] = { x: +t[2], y: +t[3] }) : a[0] = { x: +t[n - 2], y: +t[n - 1] } : n - 4 == i ? a[3] = a[2] : i || (a[0] = { x: +t[i], y: +t[i + 1] }), r.push(["C", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]) } return r } t.getRGB = lt(function (e) { if (!e || (e = d(e)).indexOf("-") + 1) return { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: ht }; if ("none" == e) return { r: -1, g: -1, b: -1, hex: "none", toString: ht }; !q[s](e.toLowerCase().substring(0, 2)) && "#" != e.charAt() && (e = rt(e)); var r, i, n, a, o, l, h = e.match(N); return h ? (h[2] && (n = F(h[2].substring(5), 16), i = F(h[2].substring(3, 5), 16), r = F(h[2].substring(1, 3), 16)), h[3] && (n = F((o = h[3].charAt(3)) + o, 16), i = F((o = h[3].charAt(2)) + o, 16), r = F((o = h[3].charAt(1)) + o, 16)), h[4] && (l = h[4][g](j), r = E(l[0]), "%" == l[0].slice(-1) && (r *= 2.55), i = E(l[1]), "%" == l[1].slice(-1) && (i *= 2.55), n = E(l[2]), "%" == l[2].slice(-1) && (n *= 2.55), "rgba" == h[1].toLowerCase().slice(0, 4) && (a = E(l[3])), l[3] && "%" == l[3].slice(-1) && (a /= 100)), h[5] ? (l = h[5][g](j), r = E(l[0]), "%" == l[0].slice(-1) && (r *= 2.55), i = E(l[1]), "%" == l[1].slice(-1) && (i *= 2.55), n = E(l[2]), "%" == l[2].slice(-1) && (n *= 2.55), ("deg" == l[0].slice(-3) || "°" == l[0].slice(-1)) && (r /= 360), "hsba" == h[1].toLowerCase().slice(0, 4) && (a = E(l[3])), l[3] && "%" == l[3].slice(-1) && (a /= 100), t.hsb2rgb(r, i, n, a)) : h[6] ? (l = h[6][g](j), r = E(l[0]), "%" == l[0].slice(-1) && (r *= 2.55), i = E(l[1]), "%" == l[1].slice(-1) && (i *= 2.55), n = E(l[2]), "%" == l[2].slice(-1) && (n *= 2.55), ("deg" == l[0].slice(-3) || "°" == l[0].slice(-1)) && (r /= 360), "hsla" == h[1].toLowerCase().slice(0, 4) && (a = E(l[3])), l[3] && "%" == l[3].slice(-1) && (a /= 100), t.hsl2rgb(r, i, n, a)) : ((h = { r: r, g: i, b: n, toString: ht }).hex = "#" + (16777216 | n | i << 8 | r << 16).toString(16).slice(1), t.is(a, "finite") && (h.opacity = a), h)) : { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: ht } }, t), t.hsb = lt(function (e, r, i) { return t.hsb2rgb(e, r, i).hex }), t.hsl = lt(function (e, r, i) { return t.hsl2rgb(e, r, i).hex }), t.rgb = lt(function (t, e, r) { return "#" + (16777216 | r | e << 8 | t << 16).toString(16).slice(1) }), t.getColor = function (t) { var e = this.getColor.start = this.getColor.start || { h: 0, s: 1, b: t || .75 }, r = this.hsb2rgb(e.h, e.s, e.b); return e.h += .075, e.h > 1 && (e.h = 0, e.s -= .2, e.s <= 0 && (this.getColor.start = { h: 0, s: 1, b: e.b })), r.hex }, t.getColor.reset = function () { delete this.start }, t.parsePathString = function (e) { if (!e) return null; var r = ct(e); if (r.arr) return yt(r.arr); var i = { a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0 }, n = []; return t.is(e, A) && t.is(e[0], A) && (n = yt(e)), n.length || d(e).replace(V, function (t, e, r) { var a = [], s = e.toLowerCase(); if (r.replace(Y, function (t, e) { e && a.push(+e) }), "m" == s && a.length > 2 && (n.push([e][c](a.splice(0, 2))), s = "l", e = "m" == e ? "l" : "L"), "r" == s) n.push([e][c](a)); else for (; a.length >= i[s] && (n.push([e][c](a.splice(0, i[s]))), i[s]) ;); }), n.toString = t._path2string, r.arr = yt(n), n }, t.parseTransformString = lt(function (e) { if (!e) return null; var r = []; return t.is(e, A) && t.is(e[0], A) && (r = yt(e)), r.length || d(e).replace(O, function (t, e, i) { var n = []; y.call(e); i.replace(Y, function (t, e) { e && n.push(+e) }), r.push([e][c](n)) }), r.toString = t._path2string, r }); var ct = function (t) { var e = ct.ps = ct.ps || {}; return e[t] ? e[t].sleep = 100 : e[t] = { sleep: 100 }, setTimeout(function () { for (var r in e) e[s](r) && r != t && (e[r].sleep--, !e[r].sleep && delete e[r]) }), e[t] }; function ft(t, e, r, i, n) { return t * (t * (-3 * e + 9 * r - 9 * i + 3 * n) + 6 * e - 12 * r + 6 * i) - 3 * e + 3 * r } function pt(t, e, r, i, n, a, s, o, l) { null == l && (l = 1); for (var h = (l = l > 1 ? 1 : l < 0 ? 0 : l) / 2, u = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], c = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], f = 0, p = 0; p < 12; p++) { var d = h * u[p] + h, g = ft(d, t, r, n, s), v = ft(d, e, i, a, o), x = g * g + v * v; f += c[p] * m.sqrt(x) } return h * f } function dt(t, e, r, i, n, a, s, o) { if (!(b(t, r) < _(n, s) || _(t, r) > b(n, s) || b(e, i) < _(a, o) || _(e, i) > b(a, o))) { var l = (t - r) * (a - o) - (e - i) * (n - s); if (l) { var h = ((t * i - e * r) * (n - s) - (t - r) * (n * o - a * s)) / l, u = ((t * i - e * r) * (a - o) - (e - i) * (n * o - a * s)) / l, c = +h.toFixed(2), f = +u.toFixed(2); if (!(c < +_(t, r).toFixed(2) || c > +b(t, r).toFixed(2) || c < +_(n, s).toFixed(2) || c > +b(n, s).toFixed(2) || f < +_(e, i).toFixed(2) || f > +b(e, i).toFixed(2) || f < +_(a, o).toFixed(2) || f > +b(a, o).toFixed(2))) return { x: h, y: u } } } } function gt(e, r, i) { var n = t.bezierBBox(e), a = t.bezierBBox(r); if (!t.isBBoxIntersect(n, a)) return i ? 0 : []; for (var s = ~~(pt.apply(0, e) / 5), o = ~~(pt.apply(0, r) / 5), l = [], h = [], u = {}, c = i ? 0 : [], f = 0; f < s + 1; f++) { var p = t.findDotsAtSegment.apply(t, e.concat(f / s)); l.push({ x: p.x, y: p.y, t: f / s }) } for (f = 0; f < o + 1; f++) p = t.findDotsAtSegment.apply(t, r.concat(f / o)), h.push({ x: p.x, y: p.y, t: f / o }); for (f = 0; f < s; f++) for (var d = 0; d < o; d++) { var g = l[f], v = l[f + 1], x = h[d], y = h[d + 1], m = w(v.x - g.x) < .001 ? "y" : "x", b = w(y.x - x.x) < .001 ? "y" : "x", _ = dt(g.x, g.y, v.x, v.y, x.x, x.y, y.x, y.y); if (_) { if (u[_.x.toFixed(4)] == _.y.toFixed(4)) continue; u[_.x.toFixed(4)] = _.y.toFixed(4); var k = g.t + w((_[m] - g[m]) / (v[m] - g[m])) * (v.t - g.t), C = x.t + w((_[b] - x[b]) / (y[b] - x[b])) * (y.t - x.t); k >= 0 && k <= 1 && C >= 0 && C <= 1 && (i ? c++ : c.push({ x: _.x, y: _.y, t1: k, t2: C })) } } return c } function vt(e, r, i) { e = t._path2curve(e), r = t._path2curve(r); for (var n, a, s, o, l, h, u, c, f, p, d = i ? 0 : [], g = 0, v = e.length; g < v; g++) { var x = e[g]; if ("M" == x[0]) n = l = x[1], a = h = x[2]; else { "C" == x[0] ? (n = (f = [n, a].concat(x.slice(1)))[6], a = f[7]) : (f = [n, a, n, a, l, h, l, h], n = l, a = h); for (var y = 0, m = r.length; y < m; y++) { var b = r[y]; if ("M" == b[0]) s = u = b[1], o = c = b[2]; else { "C" == b[0] ? (s = (p = [s, o].concat(b.slice(1)))[6], o = p[7]) : (p = [s, o, s, o, u, c, u, c], s = u, o = c); var _ = gt(f, p, i); if (i) d += _; else { for (var w = 0, k = _.length; w < k; w++) _[w].segment1 = g, _[w].segment2 = y, _[w].bez1 = f, _[w].bez2 = p; d = d.concat(_) } } } } } return d } t.findDotsAtSegment = function (t, e, r, i, n, a, s, o, l) { var h = 1 - l, u = k(h, 3), c = k(h, 2), f = l * l, p = f * l, d = u * t + 3 * c * l * r + 3 * h * l * l * n + p * s, g = u * e + 3 * c * l * i + 3 * h * l * l * a + p * o, v = t + 2 * l * (r - t) + f * (n - 2 * r + t), x = e + 2 * l * (i - e) + f * (a - 2 * i + e), y = r + 2 * l * (n - r) + f * (s - 2 * n + r), b = i + 2 * l * (a - i) + f * (o - 2 * a + i), _ = h * t + l * r, w = h * e + l * i, B = h * n + l * s, S = h * a + l * o, A = 90 - 180 * m.atan2(v - y, x - b) / C; return (v > y || x < b) && (A += 180), { x: d, y: g, m: { x: v, y: x }, n: { x: y, y: b }, start: { x: _, y: w }, end: { x: B, y: S }, alpha: A } }, t.bezierBBox = function (e, r, i, n, a, s, o, l) { t.is(e, "array") || (e = [e, r, i, n, a, s, o, l]); var h = Bt.apply(null, e); return { x: h.min.x, y: h.min.y, x2: h.max.x, y2: h.max.y, width: h.max.x - h.min.x, height: h.max.y - h.min.y } }, t.isPointInsideBBox = function (t, e, r) { return e >= t.x && e <= t.x2 && r >= t.y && r <= t.y2 }, t.isBBoxIntersect = function (e, r) { var i = t.isPointInsideBBox; return i(r, e.x, e.y) || i(r, e.x2, e.y) || i(r, e.x, e.y2) || i(r, e.x2, e.y2) || i(e, r.x, r.y) || i(e, r.x2, r.y) || i(e, r.x, r.y2) || i(e, r.x2, r.y2) || (e.x < r.x2 && e.x > r.x || r.x < e.x2 && r.x > e.x) && (e.y < r.y2 && e.y > r.y || r.y < e.y2 && r.y > e.y) }, t.pathIntersection = function (t, e) { return vt(t, e) }, t.pathIntersectionNumber = function (t, e) { return vt(t, e, 1) }, t.isPointInsidePath = function (e, r, i) { var n = t.pathBBox(e); return t.isPointInsideBBox(n, r, i) && vt(e, [["M", r, i], ["H", n.x2 + 10]], 1) % 2 == 1 }, t._removedFactory = function (t) { return function () { eve("raphael.log", null, "Raphaël: you are calling to method “" + t + "” of removed object", t) } }; var xt = t.pathBBox = function (t) { var e = ct(t); if (e.bbox) return e.bbox; if (!t) return { x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0 }; for (var r, i = 0, n = 0, a = [], s = [], o = 0, l = (t = St(t)).length; o < l; o++) if ("M" == (r = t[o])[0]) i = r[1], n = r[2], a.push(i), s.push(n); else { var h = Bt(i, n, r[1], r[2], r[3], r[4], r[5], r[6]); a = a[c](h.min.x, h.max.x), s = s[c](h.min.y, h.max.y), i = r[5], n = r[6] } var f = _[u](0, a), p = _[u](0, s), d = b[u](0, a), g = b[u](0, s), v = { x: f, y: p, x2: d, y2: g, width: d - f, height: g - p }; return e.bbox = K(v), v }, yt = function (e) { var r = K(e); return r.toString = t._path2string, r }, mt = t._pathToRelative = function (e) { var r = ct(e); if (r.rel) return yt(r.rel); t.is(e, A) && t.is(e && e[0], A) || (e = t.parsePathString(e)); var i = [], n = 0, a = 0, s = 0, o = 0, l = 0; "M" == e[0][0] && (s = n = e[0][1], o = a = e[0][2], l++, i.push(["M", n, a])); for (var h = l, u = e.length; h < u; h++) { var c = i[h] = [], f = e[h]; if (f[0] != y.call(f[0])) switch (c[0] = y.call(f[0]), c[0]) { case "a": c[1] = f[1], c[2] = f[2], c[3] = f[3], c[4] = f[4], c[5] = f[5], c[6] = +(f[6] - n).toFixed(3), c[7] = +(f[7] - a).toFixed(3); break; case "v": c[1] = +(f[1] - a).toFixed(3); break; case "m": s = f[1], o = f[2]; default: for (var p = 1, d = f.length; p < d; p++) c[p] = +(f[p] - (p % 2 ? n : a)).toFixed(3) } else { c = i[h] = [], "m" == f[0] && (s = f[1] + n, o = f[2] + a); for (var g = 0, v = f.length; g < v; g++) i[h][g] = f[g] } var x = i[h].length; switch (i[h][0]) { case "z": n = s, a = o; break; case "h": n += +i[h][x - 1]; break; case "v": a += +i[h][x - 1]; break; default: n += +i[h][x - 2], a += +i[h][x - 1] } } return i.toString = t._path2string, r.rel = yt(i), i }, bt = t._pathToAbsolute = function (e) { var r = ct(e); if (r.abs) return yt(r.abs); if (t.is(e, A) && t.is(e && e[0], A) || (e = t.parsePathString(e)), !e || !e.length) return [["M", 0, 0]]; var i = [], n = 0, a = 0, s = 0, o = 0, l = 0; "M" == e[0][0] && (s = n = +e[0][1], o = a = +e[0][2], l++, i[0] = ["M", n, a]); for (var h, u, f = 3 == e.length && "M" == e[0][0] && "R" == e[1][0].toUpperCase() && "Z" == e[2][0].toUpperCase(), p = l, d = e.length; p < d; p++) { if (i.push(h = []), (u = e[p])[0] != R.call(u[0])) switch (h[0] = R.call(u[0]), h[0]) { case "A": h[1] = u[1], h[2] = u[2], h[3] = u[3], h[4] = u[4], h[5] = u[5], h[6] = +(u[6] + n), h[7] = +(u[7] + a); break; case "V": h[1] = +u[1] + a; break; case "H": h[1] = +u[1] + n; break; case "R": for (var g = [n, a][c](u.slice(1)), v = 2, x = g.length; v < x; v++) g[v] = +g[v] + n, g[++v] = +g[v] + a; i.pop(), i = i[c](ut(g, f)); break; case "M": s = +u[1] + n, o = +u[2] + a; default: for (v = 1, x = u.length; v < x; v++) h[v] = +u[v] + (v % 2 ? n : a) } else if ("R" == u[0]) g = [n, a][c](u.slice(1)), i.pop(), i = i[c](ut(g, f)), h = ["R"][c](u.slice(-2)); else for (var y = 0, m = u.length; y < m; y++) h[y] = u[y]; switch (h[0]) { case "Z": n = s, a = o; break; case "H": n = h[1]; break; case "V": a = h[1]; break; case "M": s = h[h.length - 2], o = h[h.length - 1]; default: n = h[h.length - 2], a = h[h.length - 1] } } return i.toString = t._path2string, r.abs = yt(i), i }, _t = function (t, e, r, i) { return [t, e, r, i, r, i] }, wt = function (t, e, r, i, n, a) { return [1 / 3 * t + 2 / 3 * r, 1 / 3 * e + 2 / 3 * i, 1 / 3 * n + 2 / 3 * r, 1 / 3 * a + 2 / 3 * i, n, a] }, kt = function (t, e, r, i, n, a, s, o, l, h) { var u, f = 120 * C / 180, p = C / 180 * (+n || 0), d = [], v = lt(function (t, e, r) { return { x: t * m.cos(r) - e * m.sin(r), y: t * m.sin(r) + e * m.cos(r) } }); if (h) T = h[0], N = h[1], S = h[2], A = h[3]; else { t = (u = v(t, e, -p)).x, e = u.y, o = (u = v(o, l, -p)).x, l = u.y; m.cos(C / 180 * n), m.sin(C / 180 * n); var x = (t - o) / 2, y = (e - l) / 2, b = x * x / (r * r) + y * y / (i * i); b > 1 && (r *= b = m.sqrt(b), i *= b); var _ = r * r, k = i * i, B = (a == s ? -1 : 1) * m.sqrt(w((_ * k - _ * y * y - k * x * x) / (_ * y * y + k * x * x))), S = B * r * y / i + (t + o) / 2, A = B * -i * x / r + (e + l) / 2, T = m.asin(((e - A) / i).toFixed(9)), N = m.asin(((l - A) / i).toFixed(9)); T = t < S ? C - T : T, N = o < S ? C - N : N, T < 0 && (T = 2 * C + T), N < 0 && (N = 2 * C + N), s && T > N && (T -= 2 * C), !s && N > T && (N -= 2 * C) } var L = N - T; if (w(L) > f) { var M = N, z = o, E = l; N = T + f * (s && N > T ? 1 : -1), o = S + r * m.cos(N), l = A + i * m.sin(N), d = kt(o, l, r, i, n, 0, s, z, E, [N, M, S, A]) } L = N - T; var F = m.cos(T), R = m.sin(T), P = m.cos(N), I = m.sin(N), j = m.tan(L / 4), q = 4 / 3 * r * j, D = 4 / 3 * i * j, V = [t, e], O = [t + q * R, e - D * F], Y = [o + q * I, l - D * P], G = [o, l]; if (O[0] = 2 * V[0] - O[0], O[1] = 2 * V[1] - O[1], h) return [O, Y, G][c](d); for (var W = [], X = 0, H = (d = [O, Y, G][c](d).join()[g](",")).length; X < H; X++) W[X] = X % 2 ? v(d[X - 1], d[X], p).y : v(d[X], d[X + 1], p).x; return W }, Ct = function (t, e, r, i, n, a, s, o, l) { var h = 1 - l; return { x: k(h, 3) * t + 3 * k(h, 2) * l * r + 3 * h * l * l * n + k(l, 3) * s, y: k(h, 3) * e + 3 * k(h, 2) * l * i + 3 * h * l * l * a + k(l, 3) * o } }, Bt = lt(function (t, e, r, i, n, a, s, o) { var l, h = n - 2 * r + t - (s - 2 * n + r), c = 2 * (r - t) - 2 * (n - r), f = t - r, p = (-c + m.sqrt(c * c - 4 * h * f)) / 2 / h, d = (-c - m.sqrt(c * c - 4 * h * f)) / 2 / h, g = [e, o], v = [t, s]; return w(p) > "1e12" && (p = .5), w(d) > "1e12" && (d = .5), p > 0 && p < 1 && (l = Ct(t, e, r, i, n, a, s, o, p), v.push(l.x), g.push(l.y)), d > 0 && d < 1 && (l = Ct(t, e, r, i, n, a, s, o, d), v.push(l.x), g.push(l.y)), h = a - 2 * i + e - (o - 2 * a + i), f = e - i, p = (-(c = 2 * (i - e) - 2 * (a - i)) + m.sqrt(c * c - 4 * h * f)) / 2 / h, d = (-c - m.sqrt(c * c - 4 * h * f)) / 2 / h, w(p) > "1e12" && (p = .5), w(d) > "1e12" && (d = .5), p > 0 && p < 1 && (l = Ct(t, e, r, i, n, a, s, o, p), v.push(l.x), g.push(l.y)), d > 0 && d < 1 && (l = Ct(t, e, r, i, n, a, s, o, d), v.push(l.x), g.push(l.y)), { min: { x: _[u](0, v), y: _[u](0, g) }, max: { x: b[u](0, v), y: b[u](0, g) } } }), St = t._path2curve = lt(function (t, e) { var r = !e && ct(t); if (!e && r.curve) return yt(r.curve); for (var i = bt(t), n = e && bt(e), a = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, s = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, o = function (t, e) { if (!t) return ["C", e.x, e.y, e.x, e.y, e.x, e.y]; switch (!(t[0] in { T: 1, Q: 1 }) && (e.qx = e.qy = null), t[0]) { case "M": e.X = t[1], e.Y = t[2]; break; case "A": t = ["C"][c](kt[u](0, [e.x, e.y][c](t.slice(1)))); break; case "S": t = ["C", e.x + (e.x - (e.bx || e.x)), e.y + (e.y - (e.by || e.y))][c](t.slice(1)); break; case "T": e.qx = e.x + (e.x - (e.qx || e.x)), e.qy = e.y + (e.y - (e.qy || e.y)), t = ["C"][c](wt(e.x, e.y, e.qx, e.qy, t[1], t[2])); break; case "Q": e.qx = t[1], e.qy = t[2], t = ["C"][c](wt(e.x, e.y, t[1], t[2], t[3], t[4])); break; case "L": t = ["C"][c](_t(e.x, e.y, t[1], t[2])); break; case "H": t = ["C"][c](_t(e.x, e.y, t[1], e.y)); break; case "V": t = ["C"][c](_t(e.x, e.y, e.x, t[1])); break; case "Z": t = ["C"][c](_t(e.x, e.y, e.X, e.Y)) } return t }, l = function (t, e) { if (t[e].length > 7) { t[e].shift(); for (var r = t[e]; r.length;) t.splice(e++, 0, ["C"][c](r.splice(0, 6))); t.splice(e, 1), p = b(i.length, n && n.length || 0) } }, h = function (t, e, r, a, s) { t && e && "M" == t[s][0] && "M" != e[s][0] && (e.splice(s, 0, ["M", a.x, a.y]), r.bx = 0, r.by = 0, r.x = t[s][1], r.y = t[s][2], p = b(i.length, n && n.length || 0)) }, f = 0, p = b(i.length, n && n.length || 0) ; f < p; f++) { i[f] = o(i[f], a), l(i, f), n && (n[f] = o(n[f], s)), n && l(n, f), h(i, n, a, s, f), h(n, i, s, a, f); var d = i[f], g = n && n[f], v = d.length, x = n && g.length; a.x = d[v - 2], a.y = d[v - 1], a.bx = E(d[v - 4]) || a.x, a.by = E(d[v - 3]) || a.y, s.bx = n && (E(g[x - 4]) || s.x), s.by = n && (E(g[x - 3]) || s.y), s.x = n && g[x - 2], s.y = n && g[x - 1] } return n || (r.curve = yt(i)), n ? [i, n] : i }, null, yt), At = (t._parseDots = lt(function (e) { for (var r = [], i = 0, n = e.length; i < n; i++) { var a = {}, s = e[i].match(/^([^:]*):?([\d\.]*)/); if (a.color = t.getRGB(s[1]), a.color.error) return null; a.color = a.color.hex, s[2] && (a.offset = s[2] + "%"), r.push(a) } for (i = 1, n = r.length - 1; i < n; i++) if (!r[i].offset) { for (var o = E(r[i - 1].offset || 0), l = 0, h = i + 1; h < n; h++) if (r[h].offset) { l = r[h].offset; break } l || (l = 100, h = n); for (var u = ((l = E(l)) - o) / (h - i + 1) ; i < h; i++) o += u, r[i].offset = o + "%" } return r }), t._tear = function (t, e) { t == e.top && (e.top = t.prev), t == e.bottom && (e.bottom = t.next), t.next && (t.next.prev = t.prev), t.prev && (t.prev.next = t.next) }), Tt = (t._tofront = function (t, e) { e.top !== t && (At(t, e), t.next = null, t.prev = e.top, e.top.next = t, e.top = t) }, t._toback = function (t, e) { e.bottom !== t && (At(t, e), t.next = e.bottom, t.prev = null, e.bottom.prev = t, e.bottom = t) }, t._insertafter = function (t, e, r) { At(t, r), e == r.top && (r.top = t), e.next && (e.next.prev = t), t.next = e.next, t.prev = e, e.next = t }, t._insertbefore = function (t, e, r) { At(t, r), e == r.bottom && (r.bottom = t), e.prev && (e.prev.next = t), t.prev = e.prev, e.prev = t, t.next = e }, t.toMatrix = function (t, e) { var r = xt(t), i = { _: { transform: "" }, getBBox: function () { return r } }; return Nt(i, e), i.matrix }), Nt = (t.transformPath = function (t, e) { return Z(t, Tt(t, e)) }, t._extractTransform = function (e, r) { if (null == r) return e._.transform; r = d(r).replace(/\.{3}|\u2026/g, e._.transform || ""); var i, n, a = t.parseTransformString(r), s = 0, o = 1, l = 1, h = e._, u = new zt; if (h.transform = a || [], a) for (var c = 0, f = a.length; c < f; c++) { var p, g, v, x, y, m = a[c], b = m.length, _ = d(m[0]).toLowerCase(), w = m[0] != _, k = w ? u.invert() : 0; "t" == _ && 3 == b ? w ? (p = k.x(0, 0), g = k.y(0, 0), v = k.x(m[1], m[2]), x = k.y(m[1], m[2]), u.translate(v - p, x - g)) : u.translate(m[1], m[2]) : "r" == _ ? 2 == b ? (y = y || e.getBBox(1), u.rotate(m[1], y.x + y.width / 2, y.y + y.height / 2), s += m[1]) : 4 == b && (w ? (v = k.x(m[2], m[3]), x = k.y(m[2], m[3]), u.rotate(m[1], v, x)) : u.rotate(m[1], m[2], m[3]), s += m[1]) : "s" == _ ? 2 == b || 3 == b ? (y = y || e.getBBox(1), u.scale(m[1], m[b - 1], y.x + y.width / 2, y.y + y.height / 2), o *= m[1], l *= m[b - 1]) : 5 == b && (w ? (v = k.x(m[3], m[4]), x = k.y(m[3], m[4]), u.scale(m[1], m[2], v, x)) : u.scale(m[1], m[2], m[3], m[4]), o *= m[1], l *= m[2]) : "m" == _ && 7 == b && u.add(m[1], m[2], m[3], m[4], m[5], m[6]), h.dirtyT = 1, e.matrix = u } e.matrix = u, h.sx = o, h.sy = l, h.deg = s, h.dx = i = u.e, h.dy = n = u.f, 1 == o && 1 == l && !s && h.bbox ? (h.bbox.x += +i, h.bbox.y += +n) : h.dirtyT = 1 }), Lt = function (t) { var e = t[0]; switch (e.toLowerCase()) { case "t": return [e, 0, 0]; case "m": return [e, 1, 0, 0, 1, 0, 0]; case "r": return 4 == t.length ? [e, 0, t[2], t[3]] : [e, 0]; case "s": return 5 == t.length ? [e, 1, 1, t[3], t[4]] : 3 == t.length ? [e, 1, 1] : [e, 1] } }, Mt = t._equaliseTransform = function (e, r) { r = d(r).replace(/\.{3}|\u2026/g, e), e = t.parseTransformString(e) || [], r = t.parseTransformString(r) || []; for (var i, n, a, s, o = b(e.length, r.length), l = [], h = [], u = 0; u < o; u++) { if (a = e[u] || Lt(r[u]), s = r[u] || Lt(a), a[0] != s[0] || "r" == a[0].toLowerCase() && (a[2] != s[2] || a[3] != s[3]) || "s" == a[0].toLowerCase() && (a[3] != s[3] || a[4] != s[4])) return; for (l[u] = [], h[u] = [], i = 0, n = b(a.length, s.length) ; i < n; i++) i in a && (l[u][i] = a[i]), i in s && (h[u][i] = s[i]) } return { from: l, to: h } }; function zt(t, e, r, i, n, a) { null != t ? (this.a = +t, this.b = +e, this.c = +r, this.d = +i, this.e = +n, this.f = +a) : (this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.e = 0, this.f = 0) } t._getContainer = function (e, r, i, n) { var a; if (null != (a = null != n || t.is(e, "object") ? e : o.doc.getElementById(e))) return a.tagName ? null == r ? { container: a, width: a.style.pixelWidth || a.offsetWidth, height: a.style.pixelHeight || a.offsetHeight } : { container: a, width: r, height: i } : { container: 1, x: e, y: r, width: i, height: n } }, t.pathToRelative = mt, t._engine = {}, t.path2curve = St, t.matrix = function (t, e, r, i, n, a) { return new zt(t, e, r, i, n, a) }, function (e) { function r(t) { return t[0] * t[0] + t[1] * t[1] } function i(t) { var e = m.sqrt(r(t)); t[0] && (t[0] /= e), t[1] && (t[1] /= e) } e.add = function (t, e, r, i, n, a) { var s, o, l, h, u = [[], [], []], c = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]], f = [[t, r, n], [e, i, a], [0, 0, 1]]; for (t && t instanceof zt && (f = [[t.a, t.c, t.e], [t.b, t.d, t.f], [0, 0, 1]]), s = 0; s < 3; s++) for (o = 0; o < 3; o++) { for (h = 0, l = 0; l < 3; l++) h += c[s][l] * f[l][o]; u[s][o] = h } this.a = u[0][0], this.b = u[1][0], this.c = u[0][1], this.d = u[1][1], this.e = u[0][2], this.f = u[1][2] }, e.invert = function () { var t = this, e = t.a * t.d - t.b * t.c; return new zt(t.d / e, -t.b / e, -t.c / e, t.a / e, (t.c * t.f - t.d * t.e) / e, (t.b * t.e - t.a * t.f) / e) }, e.clone = function () { return new zt(this.a, this.b, this.c, this.d, this.e, this.f) }, e.translate = function (t, e) { this.add(1, 0, 0, 1, t, e) }, e.scale = function (t, e, r, i) { null == e && (e = t), (r || i) && this.add(1, 0, 0, 1, r, i), this.add(t, 0, 0, e, 0, 0), (r || i) && this.add(1, 0, 0, 1, -r, -i) }, e.rotate = function (e, r, i) { e = t.rad(e), r = r || 0, i = i || 0; var n = +m.cos(e).toFixed(9), a = +m.sin(e).toFixed(9); this.add(n, a, -a, n, r, i), this.add(1, 0, 0, 1, -r, -i) }, e.x = function (t, e) { return t * this.a + e * this.c + this.e }, e.y = function (t, e) { return t * this.b + e * this.d + this.f }, e.get = function (t) { return +this[d.fromCharCode(97 + t)].toFixed(4) }, e.toString = function () { return t.svg ? "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" : [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join() }, e.toFilter = function () { return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) + ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) + ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')" }, e.offset = function () { return [this.e.toFixed(4), this.f.toFixed(4)] }, e.split = function () { var e = {}; e.dx = this.e, e.dy = this.f; var n = [[this.a, this.c], [this.b, this.d]]; e.scalex = m.sqrt(r(n[0])), i(n[0]), e.shear = n[0][0] * n[1][0] + n[0][1] * n[1][1], n[1] = [n[1][0] - n[0][0] * e.shear, n[1][1] - n[0][1] * e.shear], e.scaley = m.sqrt(r(n[1])), i(n[1]), e.shear /= e.scaley; var a = -n[0][1], s = n[1][1]; return s < 0 ? (e.rotate = t.deg(m.acos(s)), a < 0 && (e.rotate = 360 - e.rotate)) : e.rotate = t.deg(m.asin(a)), e.isSimple = !(+e.shear.toFixed(9) || e.scalex.toFixed(9) != e.scaley.toFixed(9) && e.rotate), e.isSuperSimple = !+e.shear.toFixed(9) && e.scalex.toFixed(9) == e.scaley.toFixed(9) && !e.rotate, e.noRotation = !+e.shear.toFixed(9) && !e.rotate, e }, e.toTransformString = function (t) { var e = t || this[g](); return e.isSimple ? (e.scalex = +e.scalex.toFixed(4), e.scaley = +e.scaley.toFixed(4), e.rotate = +e.rotate.toFixed(4), (e.dx || e.dy ? "t" + [e.dx, e.dy] : "") + (1 != e.scalex || 1 != e.scaley ? "s" + [e.scalex, e.scaley, 0, 0] : "") + (e.rotate ? "r" + [e.rotate, 0, 0] : "")) : "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)] } }(zt.prototype); var Et = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/); "Apple Computer, Inc." == navigator.vendor && (Et && Et[1] < 4 || "iP" == navigator.platform.slice(0, 2)) || "Google Inc." == navigator.vendor && Et && Et[1] < 8 ? r.safari = function () { var t = this.rect(-99, -99, this.width + 99, this.height + 99).attr({ stroke: "none" }); setTimeout(function () { t.remove() }) } : r.safari = function () { }; for (var Ft = function () { this.returnValue = !1 }, Rt = function () { return this.originalEvent.preventDefault() }, Pt = function () { this.cancelBubble = !0 }, It = function () { return this.originalEvent.stopPropagation() }, jt = o.doc.addEventListener ? function (t, e, r, i) { var n = f && x[e] ? x[e] : e, a = function (n) { var a = o.doc.documentElement.scrollTop || o.doc.body.scrollTop, l = o.doc.documentElement.scrollLeft || o.doc.body.scrollLeft, h = n.clientX + l, u = n.clientY + a; if (f && x[s](e)) for (var c = 0, p = n.targetTouches && n.targetTouches.length; c < p; c++) if (n.targetTouches[c].target == t) { var d = n; (n = n.targetTouches[c]).originalEvent = d, n.preventDefault = Rt, n.stopPropagation = It; break } return r.call(i, n, h, u) }; return t.addEventListener(n, a, !1), function () { return t.removeEventListener(n, a, !1), !0 } } : o.doc.attachEvent ? function (t, e, r, i) { var n = function (t) { t = t || o.win.event; var e = o.doc.documentElement.scrollTop || o.doc.body.scrollTop, n = o.doc.documentElement.scrollLeft || o.doc.body.scrollLeft, a = t.clientX + n, s = t.clientY + e; return t.preventDefault = t.preventDefault || Ft, t.stopPropagation = t.stopPropagation || Pt, r.call(i, t, a, s) }; return t.attachEvent("on" + e, n), function () { return t.detachEvent("on" + e, n), !0 } } : void 0, qt = [], Dt = function (t) { for (var e, r = t.clientX, i = t.clientY, n = o.doc.documentElement.scrollTop || o.doc.body.scrollTop, a = o.doc.documentElement.scrollLeft || o.doc.body.scrollLeft, s = qt.length; s--;) { if (e = qt[s], f) { for (var l, h = t.touches.length; h--;) if ((l = t.touches[h]).identifier == e.el._drag.id) { r = l.clientX, i = l.clientY, (t.originalEvent ? t.originalEvent : t).preventDefault(); break } } else t.preventDefault(); var u, c = e.el.node, p = c.nextSibling, d = c.parentNode, g = c.style.display; o.win.opera && d.removeChild(c), c.style.display = "none", u = e.el.paper.getElementByPoint(r, i), c.style.display = g, o.win.opera && (p ? d.insertBefore(c, p) : d.appendChild(c)), u && eve("raphael.drag.over." + e.el.id, e.el, u), r += a, i += n, eve("raphael.drag.move." + e.el.id, e.move_scope || e.el, r - e.el._drag.x, i - e.el._drag.y, r, i, t) } }, Vt = function (e) { t.unmousemove(Dt).unmouseup(Vt); for (var r, i = qt.length; i--;) (r = qt[i]).el._drag = {}, eve("raphael.drag.end." + r.el.id, r.end_scope || r.start_scope || r.move_scope || r.el, e); qt = [] }, Ot = t.el = {}, Yt = v.length; Yt--;) !function (e) { t[e] = Ot[e] = function (r, i) { return t.is(r, "function") && (this.events = this.events || [], this.events.push({ name: e, f: r, unbind: jt(this.shape || this.node || o.doc, e, r, i || this) })), this }, t["un" + e] = Ot["un" + e] = function (t) { for (var r = this.events || [], i = r.length; i--;) if (r[i].name == e && r[i].f == t) return r[i].unbind(), r.splice(i, 1), !r.length && delete this.events, this; return this } }(v[Yt]); Ot.data = function (e, r) { var i = G[this.id] = G[this.id] || {}; if (1 == arguments.length) { if (t.is(e, "object")) { for (var n in e) e[s](n) && this.data(n, e[n]); return this } return eve("raphael.data.get." + this.id, this, i[e], e), i[e] } return i[e] = r, eve("raphael.data.set." + this.id, this, r, e), this }, Ot.removeData = function (t) { return null == t ? G[this.id] = {} : G[this.id] && delete G[this.id][t], this }, Ot.hover = function (t, e, r, i) { return this.mouseover(t, r).mouseout(e, i || r) }, Ot.unhover = function (t, e) { return this.unmouseover(t).unmouseout(e) }; var Gt = []; Ot.drag = function (e, r, i, n, a, s) { function l(l) { (l.originalEvent || l).preventDefault(); var h = o.doc.documentElement.scrollTop || o.doc.body.scrollTop, u = o.doc.documentElement.scrollLeft || o.doc.body.scrollLeft; this._drag.x = l.clientX + u, this._drag.y = l.clientY + h, this._drag.id = l.identifier, !qt.length && t.mousemove(Dt).mouseup(Vt), qt.push({ el: this, move_scope: n, start_scope: a, end_scope: s }), r && eve.on("raphael.drag.start." + this.id, r), e && eve.on("raphael.drag.move." + this.id, e), i && eve.on("raphael.drag.end." + this.id, i), eve("raphael.drag.start." + this.id, a || n || this, l.clientX + u, l.clientY + h, l) } return this._drag = {}, Gt.push({ el: this, start: l }), this.mousedown(l), this }, Ot.onDragOver = function (t) { t ? eve.on("raphael.drag.over." + this.id, t) : eve.unbind("raphael.drag.over." + this.id) }, Ot.undrag = function () { for (var e = Gt.length; e--;) Gt[e].el == this && (this.unmousedown(Gt[e].start), Gt.splice(e, 1), eve.unbind("raphael.drag.*." + this.id)); !Gt.length && t.unmousemove(Dt).unmouseup(Vt) }, r.circle = function (e, r, i) { var n = t._engine.circle(this, e || 0, r || 0, i || 0); return this.__set__ && this.__set__.push(n), n }, r.rect = function (e, r, i, n, a) { var s = t._engine.rect(this, e || 0, r || 0, i || 0, n || 0, a || 0); return this.__set__ && this.__set__.push(s), s }, r.ellipse = function (e, r, i, n) { var a = t._engine.ellipse(this, e || 0, r || 0, i || 0, n || 0); return this.__set__ && this.__set__.push(a), a }, r.path = function (e) { e && !t.is(e, S) && !t.is(e[0], A) && (e += ""); var r = t._engine.path(t.format[u](t, arguments), this); return this.__set__ && this.__set__.push(r), r }, r.image = function (e, r, i, n, a) { var s = t._engine.image(this, e || "about:blank", r || 0, i || 0, n || 0, a || 0); return this.__set__ && this.__set__.push(s), s }, r.text = function (e, r, i) { var n = t._engine.text(this, e || 0, r || 0, d(i)); return this.__set__ && this.__set__.push(n), n }, r.set = function (e) { !t.is(e, "array") && (e = Array.prototype.splice.call(arguments, 0, arguments.length)); var r = new le(e); return this.__set__ && this.__set__.push(r), r }, r.setStart = function (t) { this.__set__ = t || this.set() }, r.setFinish = function (t) { var e = this.__set__; return delete this.__set__, e }, r.setSize = function (e, r) { return t._engine.setSize.call(this, e, r) }, r.setViewBox = function (e, r, i, n, a) { return t._engine.setViewBox.call(this, e, r, i, n, a) }, r.top = r.bottom = null, r.raphael = t; function Wt() { return this.x + p + this.y + p + this.width + " × " + this.height } r.getElementByPoint = function (t, e) { var r, i, n, a, s, l, h, u = this.canvas, c = o.doc.elementFromPoint(t, e); if (o.win.opera && "svg" == c.tagName) { var f = (i = (r = u).getBoundingClientRect(), n = r.ownerDocument, a = n.body, s = n.documentElement, l = s.clientTop || a.clientTop || 0, h = s.clientLeft || a.clientLeft || 0, { y: i.top + (o.win.pageYOffset || s.scrollTop || a.scrollTop) - l, x: i.left + (o.win.pageXOffset || s.scrollLeft || a.scrollLeft) - h }), p = u.createSVGRect(); p.x = t - f.x, p.y = e - f.y, p.width = p.height = 1; var d = u.getIntersectionList(p, null); d.length && (c = d[d.length - 1]) } if (!c) return null; for (; c.parentNode && c != u.parentNode && !c.raphael;) c = c.parentNode; return c == this.canvas.parentNode && (c = u), c = c && c.raphael ? this.getById(c.raphaelid) : null }, r.getById = function (t) { for (var e = this.bottom; e;) { if (e.id == t) return e; e = e.next } return null }, r.forEach = function (t, e) { for (var r = this.bottom; r;) { if (!1 === t.call(e, r)) return this; r = r.next } return this }, r.getElementsByPoint = function (t, e) { var r = this.set(); return this.forEach(function (i) { i.isPointInside(t, e) && r.push(i) }), r }, Ot.isPointInside = function (e, r) { var i = this.realPath = this.realPath || $[this.type](this); return t.isPointInsidePath(i, e, r) }, Ot.getBBox = function (t) { if (this.removed) return {}; var e = this._; return t ? (!e.dirty && e.bboxwt || (this.realPath = $[this.type](this), e.bboxwt = xt(this.realPath), e.bboxwt.toString = Wt, e.dirty = 0), e.bboxwt) : ((e.dirty || e.dirtyT || !e.bbox) && (!e.dirty && this.realPath || (e.bboxwt = 0, this.realPath = $[this.type](this)), e.bbox = xt(Z(this.realPath, this.matrix)), e.bbox.toString = Wt, e.dirty = e.dirtyT = 0), e.bbox) }, Ot.clone = function () { if (this.removed) return null; var t = this.paper[this.type]().attr(this.attr()); return this.__set__ && this.__set__.push(t), t }, Ot.glow = function (t) { if ("text" == this.type) return null; var e = { width: ((t = t || {}).width || 10) + (+this.attr("stroke-width") || 1), fill: t.fill || !1, opacity: t.opacity || .5, offsetx: t.offsetx || 0, offsety: t.offsety || 0, color: t.color || "#000" }, r = e.width / 2, i = this.paper, n = i.set(), a = this.realPath || $[this.type](this); a = this.matrix ? Z(a, this.matrix) : a; for (var s = 1; s < r + 1; s++) n.push(i.path(a).attr({ stroke: e.color, fill: e.fill ? e.color : "none", "stroke-linejoin": "round", "stroke-linecap": "round", "stroke-width": +(e.width / r * s).toFixed(3), opacity: +(e.opacity / r).toFixed(3) })); return n.insertBefore(this).translate(e.offsetx, e.offsety) }; var Xt = function (e, r, i, n, a, s, o, l, h) { return null == h ? pt(e, r, i, n, a, s, o, l) : t.findDotsAtSegment(e, r, i, n, a, s, o, l, function (t, e, r, i, n, a, s, o, l) { if (!(l < 0 || pt(t, e, r, i, n, a, s, o) < l)) { var h, u = .5, c = 1 - u; for (h = pt(t, e, r, i, n, a, s, o, c) ; w(h - l) > .01;) u /= 2, h = pt(t, e, r, i, n, a, s, o, c += (h < l ? 1 : -1) * u); return c } }(e, r, i, n, a, s, o, l, h)) }, Ht = function (e, r) { return function (i, n, a) { for (var s, o, l, h, u, c = "", f = {}, p = 0, d = 0, g = (i = St(i)).length; d < g; d++) { if ("M" == (l = i[d])[0]) s = +l[1], o = +l[2]; else { if (p + (h = Xt(s, o, l[1], l[2], l[3], l[4], l[5], l[6])) > n) { if (r && !f.start) { if (c += ["C" + (u = Xt(s, o, l[1], l[2], l[3], l[4], l[5], l[6], n - p)).start.x, u.start.y, u.m.x, u.m.y, u.x, u.y], a) return c; f.start = c, c = ["M" + u.x, u.y + "C" + u.n.x, u.n.y, u.end.x, u.end.y, l[5], l[6]].join(), p += h, s = +l[5], o = +l[6]; continue } if (!e && !r) return { x: (u = Xt(s, o, l[1], l[2], l[3], l[4], l[5], l[6], n - p)).x, y: u.y, alpha: u.alpha } } p += h, s = +l[5], o = +l[6] } c += l.shift() + l } return f.end = c, (u = e ? p : r ? f : t.findDotsAtSegment(s, o, l[0], l[1], l[2], l[3], l[4], l[5], 1)).alpha && (u = { x: u.x, y: u.y, alpha: u.alpha }), u } }, Ut = Ht(1), $t = Ht(), Zt = Ht(0, 1); t.getTotalLength = Ut, t.getPointAtLength = $t, t.getSubpath = function (t, e, r) { if (this.getTotalLength(t) - r < 1e-6) return Zt(t, e).end; var i = Zt(t, r, 1); return e ? Zt(i, e).end : i }, Ot.getTotalLength = function () { if ("path" == this.type) return this.node.getTotalLength ? this.node.getTotalLength() : Ut(this.attrs.path) }, Ot.getPointAtLength = function (t) { if ("path" == this.type) return $t(this.attrs.path, t) }, Ot.getSubpath = function (e, r) { if ("path" == this.type) return t.getSubpath(this.attrs.path, e, r) }; var Qt = t.easing_formulas = { linear: function (t) { return t }, "<": function (t) { return k(t, 1.7) }, ">": function (t) { return k(t, .48) }, "<>": function (t) { var e = .48 - t / 1.04, r = m.sqrt(.1734 + e * e), i = r - e, n = -r - e, a = k(w(i), 1 / 3) * (i < 0 ? -1 : 1) + k(w(n), 1 / 3) * (n < 0 ? -1 : 1) + .5; return 3 * (1 - a) * a * a + a * a * a }, backIn: function (t) { return t * t * (2.70158 * t - 1.70158) }, backOut: function (t) { return (t -= 1) * t * (2.70158 * t + 1.70158) + 1 }, elastic: function (t) { return t == !!t ? t : k(2, -10 * t) * m.sin(2 * C * (t - .075) / .3) + 1 }, bounce: function (t) { var e = 7.5625, r = 2.75; return t < 1 / r ? e * t * t : t < 2 / r ? e * (t -= 1.5 / r) * t + .75 : t < 2.5 / r ? e * (t -= 2.25 / r) * t + .9375 : e * (t -= 2.625 / r) * t + .984375 } }; Qt.easeIn = Qt["ease-in"] = Qt["<"], Qt.easeOut = Qt["ease-out"] = Qt[">"], Qt.easeInOut = Qt["ease-in-out"] = Qt["<>"], Qt["back-in"] = Qt.backIn, Qt["back-out"] = Qt.backOut; var Jt = [], Kt = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { setTimeout(t, 16) }, te = function () { for (var e = +new Date, r = 0; r < Jt.length; r++) { var i = Jt[r]; if (!i.el.removed && !i.paused) { var n, a, o = e - i.start, l = i.ms, h = i.easing, u = i.from, f = i.diff, d = i.to, g = (i.t, i.el), v = {}, x = {}; if (i.initstatus ? (o = (i.initstatus * i.anim.top - i.prev) / (i.percent - i.prev) * l, i.status = i.initstatus, delete i.initstatus, i.stop && Jt.splice(r--, 1)) : i.status = (i.prev + (i.percent - i.prev) * (o / l)) / i.anim.top, !(o < 0)) if (o < l) { var y = h(o / l); for (var m in u) if (u[s](m)) { switch (I[m]) { case B: n = +u[m] + y * l * f[m]; break; case "colour": n = "rgb(" + [ee(z(u[m].r + y * l * f[m].r)), ee(z(u[m].g + y * l * f[m].g)), ee(z(u[m].b + y * l * f[m].b))].join(",") + ")"; break; case "path": n = []; for (var b = 0, _ = u[m].length; b < _; b++) { n[b] = [u[m][b][0]]; for (var w = 1, k = u[m][b].length; w < k; w++) n[b][w] = +u[m][b][w] + y * l * f[m][b][w]; n[b] = n[b].join(p) } n = n.join(p); break; case "transform": if (f[m].real) for (n = [], b = 0, _ = u[m].length; b < _; b++) for (n[b] = [u[m][b][0]], w = 1, k = u[m][b].length; w < k; w++) n[b][w] = u[m][b][w] + y * l * f[m][b][w]; else { var C = function (t) { return +u[m][t] + y * l * f[m][t] }; n = [["m", C(0), C(1), C(2), C(3), C(4), C(5)]] } break; case "csv": if ("clip-rect" == m) for (n = [], b = 4; b--;) n[b] = +u[m][b] + y * l * f[m][b]; break; default: var S = [][c](u[m]); for (n = [], b = g.paper.customAttributes[m].length; b--;) n[b] = +S[b] + y * l * f[m][b] } v[m] = n } g.attr(v), function (t, e, r) { setTimeout(function () { eve("raphael.anim.frame." + t, e, r) }) }(g.id, g, i.anim) } else { if (function (e, r, i) { setTimeout(function () { eve("raphael.anim.frame." + r.id, r, i), eve("raphael.anim.finish." + r.id, r, i), t.is(e, "function") && e.call(r) }) }(i.callback, g, i.anim), g.attr(d), Jt.splice(r--, 1), i.repeat > 1 && !i.next) { for (a in d) d[s](a) && (x[a] = i.totalOrigin[a]); i.el.attr(x), ne(i.anim, i.el, i.anim.percents[0], null, i.totalOrigin, i.repeat - 1) } i.next && !i.stop && ne(i.anim, i.el, i.next, null, i.totalOrigin, i.repeat) } } } t.svg && g && g.paper && g.paper.safari(), Jt.length && Kt(te) }, ee = function (t) { return t > 255 ? 255 : t < 0 ? 0 : t }; function re(t, e, r, i, n, a) { var s, o = 3 * e, l = 3 * (i - e) - o, h = 1 - o - l, u = 3 * r, c = 3 * (n - r) - u, f = 1 - u - c; function p(t) { return ((h * t + l) * t + o) * t } return s = function (t, e) { var r, i, n, a, s, u; for (n = t, u = 0; u < 8; u++) { if (a = p(n) - t, w(a) < e) return n; if (w(s = (3 * h * n + 2 * l) * n + o) < 1e-6) break; n -= a / s } if (i = 1, (n = t) < (r = 0)) return r; if (n > i) return i; for (; r < i;) { if (a = p(n), w(a - t) < e) return n; t > a ? r = n : i = n, n = (i - r) / 2 + r } return n }(t, 1 / (200 * a)), ((f * s + c) * s + u) * s } function ie(t, e) { var r = [], i = {}; if (this.ms = e, this.times = 1, t) { for (var n in t) t[s](n) && (i[E(n)] = t[n], r.push(E(n))); r.sort(W) } this.anim = i, this.top = r[r.length - 1], this.percents = r } function ne(e, r, n, a, o, l) { n = E(n); var h, u, f, p, v, x, y = e.ms, m = {}, b = {}, _ = {}; if (a) for (k = 0, C = Jt.length; k < C; k++) { var w = Jt[k]; if (w.el.id == r.id && w.anim == e) { w.percent != n ? (Jt.splice(k, 1), f = 1) : u = w, r.attr(w.totalOrigin); break } } else a = +b; for (var k = 0, C = e.percents.length; k < C; k++) { if (e.percents[k] == n || e.percents[k] > a * e.top) { n = e.percents[k], v = e.percents[k - 1] || 0, y = y / e.top * (n - v), p = e.percents[k + 1], h = e.anim[n]; break } a && r.attr(e.anim[e.percents[k]]) } if (h) { if (u) u.initstatus = a, u.start = new Date - u.ms * a; else { for (var S in h) if (h[s](S) && (I[s](S) || r.paper.customAttributes[s](S))) switch (m[S] = r.attr(S), null == m[S] && (m[S] = P[S]), b[S] = h[S], I[S]) { case B: _[S] = (b[S] - m[S]) / y; break; case "colour": m[S] = t.getRGB(m[S]); var A = t.getRGB(b[S]); _[S] = { r: (A.r - m[S].r) / y, g: (A.g - m[S].g) / y, b: (A.b - m[S].b) / y }; break; case "path": var T = St(m[S], b[S]), N = T[1]; for (m[S] = T[0], _[S] = [], k = 0, C = m[S].length; k < C; k++) { _[S][k] = [0]; for (var L = 1, z = m[S][k].length; L < z; L++) _[S][k][L] = (N[k][L] - m[S][k][L]) / y } break; case "transform": var F = r._, R = Mt(F[S], b[S]); if (R) for (m[S] = R.from, b[S] = R.to, _[S] = [], _[S].real = !0, k = 0, C = m[S].length; k < C; k++) for (_[S][k] = [m[S][k][0]], L = 1, z = m[S][k].length; L < z; L++) _[S][k][L] = (b[S][k][L] - m[S][k][L]) / y; else { var j = r.matrix || new zt, q = { _: { transform: F.transform }, getBBox: function () { return r.getBBox(1) } }; m[S] = [j.a, j.b, j.c, j.d, j.e, j.f], Nt(q, b[S]), b[S] = q._.transform, _[S] = [(q.matrix.a - j.a) / y, (q.matrix.b - j.b) / y, (q.matrix.c - j.c) / y, (q.matrix.d - j.d) / y, (q.matrix.e - j.e) / y, (q.matrix.f - j.f) / y] } break; case "csv": var D = d(h[S])[g](i), V = d(m[S])[g](i); if ("clip-rect" == S) for (m[S] = V, _[S] = [], k = V.length; k--;) _[S][k] = (D[k] - m[S][k]) / y; b[S] = D; break; default: for (D = [][c](h[S]), V = [][c](m[S]), _[S] = [], k = r.paper.customAttributes[S].length; k--;) _[S][k] = ((D[k] || 0) - (V[k] || 0)) / y } var O = h.easing, Y = t.easing_formulas[O]; if (!Y) if ((Y = d(O).match(M)) && 5 == Y.length) { var G = Y; Y = function (t) { return re(t, +G[1], +G[2], +G[3], +G[4], y) } } else Y = X; if (w = { anim: e, percent: n, timestamp: x = h.start || e.start || +new Date, start: x + (e.del || 0), status: 0, initstatus: a || 0, stop: !1, ms: y, easing: Y, from: m, diff: _, to: b, el: r, callback: h.callback, prev: v, next: p, repeat: l || e.times, origin: r.attr(), totalOrigin: o }, Jt.push(w), a && !u && !f && (w.stop = !0, w.start = new Date - y * a, 1 == Jt.length)) return te(); f && (w.start = new Date - w.ms * a), 1 == Jt.length && Kt(te) } eve("raphael.anim.start." + r.id, r, e) } } function ae(t) { for (var e = 0; e < Jt.length; e++) Jt[e].el.paper == t && Jt.splice(e--, 1) } Ot.animateWith = function (e, r, i, n, a, s) { var o = this; if (o.removed) return s && s.call(o), o; var l = i instanceof ie ? i : t.animation(i, n, a, s); ne(l, o, l.percents[0], null, o.attr()); for (var h = 0, u = Jt.length; h < u; h++) if (Jt[h].anim == r && Jt[h].el == e) { Jt[u - 1].start = Jt[h].start; break } return o }, Ot.onAnimation = function (t) { return t ? eve.on("raphael.anim.frame." + this.id, t) : eve.unbind("raphael.anim.frame." + this.id), this }, ie.prototype.delay = function (t) { var e = new ie(this.anim, this.ms); return e.times = this.times, e.del = +t || 0, e }, ie.prototype.repeat = function (t) { var e = new ie(this.anim, this.ms); return e.del = this.del, e.times = m.floor(b(t, 0)) || 1, e }, t.animation = function (e, r, i, n) { if (e instanceof ie) return e; !t.is(i, "function") && i || (n = n || i || null, i = null), e = Object(e), r = +r || 0; var a, o, l = {}; for (o in e) e[s](o) && E(o) != o && E(o) + "%" != o && (a = !0, l[o] = e[o]); return a ? (i && (l.easing = i), n && (l.callback = n), new ie({ 100: l }, r)) : new ie(e, r) }, Ot.animate = function (e, r, i, n) { var a = this; if (a.removed) return n && n.call(a), a; var s = e instanceof ie ? e : t.animation(e, r, i, n); return ne(s, a, s.percents[0], null, a.attr()), a }, Ot.setTime = function (t, e) { return t && null != e && this.status(t, _(e, t.ms) / t.ms), this }, Ot.status = function (t, e) { var r, i, n = [], a = 0; if (null != e) return ne(t, this, -1, _(e, 1)), this; for (r = Jt.length; a < r; a++) if ((i = Jt[a]).el.id == this.id && (!t || i.anim == t)) { if (t) return i.status; n.push({ anim: i.anim, status: i.status }) } return t ? 0 : n }, Ot.pause = function (t) { for (var e = 0; e < Jt.length; e++) Jt[e].el.id != this.id || t && Jt[e].anim != t || !1 !== eve("raphael.anim.pause." + this.id, this, Jt[e].anim) && (Jt[e].paused = !0); return this }, Ot.resume = function (t) { for (var e = 0; e < Jt.length; e++) if (Jt[e].el.id == this.id && (!t || Jt[e].anim == t)) { var r = Jt[e]; !1 !== eve("raphael.anim.resume." + this.id, this, r.anim) && (delete r.paused, this.status(r.anim, r.status)) } return this }, Ot.stop = function (t) { for (var e = 0; e < Jt.length; e++) Jt[e].el.id != this.id || t && Jt[e].anim != t || !1 !== eve("raphael.anim.stop." + this.id, this, Jt[e].anim) && Jt.splice(e--, 1); return this }, eve.on("raphael.remove", ae), eve.on("raphael.clear", ae), Ot.toString = function () { return "Raphaël’s object" }; var se, oe, le = function (t) { if (this.items = [], this.length = 0, this.type = "set", t) for (var e = 0, r = t.length; e < r; e++) !t[e] || t[e].constructor != Ot.constructor && t[e].constructor != le || (this[this.items.length] = this.items[this.items.length] = t[e], this.length++) }, he = le.prototype; he.push = function () { for (var t, e, r = 0, i = arguments.length; r < i; r++) !(t = arguments[r]) || t.constructor != Ot.constructor && t.constructor != le || (this[e = this.items.length] = this.items[e] = t, this.length++); return this }, he.pop = function () { return this.length && delete this[this.length--], this.items.pop() }, he.forEach = function (t, e) { for (var r = 0, i = this.items.length; r < i; r++) if (!1 === t.call(e, this.items[r], r)) return this; return this }; for (var ue in Ot) Ot[s](ue) && (he[ue] = function (t) { return function () { var e = arguments; return this.forEach(function (r) { r[t][u](r, e) }) } }(ue)); he.attr = function (e, r) { if (e && t.is(e, A) && t.is(e[0], "object")) for (var i = 0, n = e.length; i < n; i++) this.items[i].attr(e[i]); else for (var a = 0, s = this.items.length; a < s; a++) this.items[a].attr(e, r); return this }, he.clear = function () { for (; this.length;) this.pop() }, he.splice = function (t, e, r) { t = t < 0 ? b(this.length + t, 0) : t, e = b(0, _(this.length - t, e)); var i, n = [], a = [], s = []; for (i = 2; i < arguments.length; i++) s.push(arguments[i]); for (i = 0; i < e; i++) a.push(this[t + i]); for (; i < this.length - t; i++) n.push(this[t + i]); var o = s.length; for (i = 0; i < o + n.length; i++) this.items[t + i] = this[t + i] = i < o ? s[i] : n[i - o]; for (i = this.items.length = this.length -= e - o; this[i];) delete this[i++]; return new le(a) }, he.exclude = function (t) { for (var e = 0, r = this.length; e < r; e++) if (this[e] == t) return this.splice(e, 1), !0 }, he.animate = function (e, r, i, n) { (t.is(i, "function") || !i) && (n = i || null); var a, s, o = this.items.length, l = o, h = this; if (!o) return this; n && (s = function () { !--o && n.call(h) }), i = t.is(i, S) ? i : s; var u = t.animation(e, r, i, s); for (a = this.items[--l].animate(u) ; l--;) this.items[l] && !this.items[l].removed && this.items[l].animateWith(a, u, u); return this }, he.insertAfter = function (t) { for (var e = this.items.length; e--;) this.items[e].insertAfter(t); return this }, he.getBBox = function () { for (var t = [], e = [], r = [], i = [], n = this.items.length; n--;) if (!this.items[n].removed) { var a = this.items[n].getBBox(); t.push(a.x), e.push(a.y), r.push(a.x + a.width), i.push(a.y + a.height) } return { x: t = _[u](0, t), y: e = _[u](0, e), x2: r = b[u](0, r), y2: i = b[u](0, i), width: r - t, height: i - e } }, he.clone = function (t) { t = new le; for (var e = 0, r = this.items.length; e < r; e++) t.push(this.items[e].clone()); return t }, he.toString = function () { return "Raphaël‘s set" }, t.registerFont = function (t) { if (!t.face) return t; this.fonts = this.fonts || {}; var e = { w: t.w, face: {}, glyphs: {} }, r = t.face["font-family"]; for (var i in t.face) t.face[s](i) && (e.face[i] = t.face[i]); if (this.fonts[r] ? this.fonts[r].push(e) : this.fonts[r] = [e], !t.svg) { e.face["units-per-em"] = F(t.face["units-per-em"], 10); for (var n in t.glyphs) if (t.glyphs[s](n)) { var a = t.glyphs[n]; if (e.glyphs[n] = { w: a.w, k: {}, d: a.d && "M" + a.d.replace(/[mlcxtrv]/g, function (t) { return { l: "L", c: "C", x: "z", t: "m", r: "l", v: "c" }[t] || "M" }) + "z" }, a.k) for (var o in a.k) a[s](o) && (e.glyphs[n].k[o] = a.k[o]) } } return t }, r.getFont = function (e, r, i, n) { if (n = n || "normal", i = i || "normal", r = +r || { normal: 400, bold: 700, lighter: 300, bolder: 800 }[r] || 400, t.fonts) { var a, o = t.fonts[e]; if (!o) { var l = new RegExp("(^|\\s)" + e.replace(/[^\w\d\s+!~.:_-]/g, "") + "(\\s|$)", "i"); for (var h in t.fonts) if (t.fonts[s](h) && l.test(h)) { o = t.fonts[h]; break } } if (o) for (var u = 0, c = o.length; u < c && ((a = o[u]).face["font-weight"] != r || a.face["font-style"] != i && a.face["font-style"] || a.face["font-stretch"] != n) ; u++); return a } }, r.print = function (e, r, n, a, s, o, l) { o = o || "middle", l = b(_(l || 0, 1), -1); var h, u = d(n)[g](""), c = 0, f = 0, p = ""; if (t.is(a, n) && (a = this.getFont(a)), a) { h = (s || 16) / a.face["units-per-em"]; for (var v = a.face.bbox[g](i), x = +v[0], y = v[3] - v[1], m = 0, w = +v[1] + ("baseline" == o ? y + +a.face.descent : y / 2), k = 0, C = u.length; k < C; k++) { if ("\n" == u[k]) c = 0, S = 0, f = 0, m += y; else { var B = f && a.glyphs[u[k - 1]] || {}, S = a.glyphs[u[k]]; c += f ? (B.w || a.w) + (B.k && B.k[u[k]] || 0) + a.w * l : 0, f = 1 } S && S.d && (p += t.transformPath(S.d, ["t", c * h, m * h, "s", h, h, x, w, "t", (e - x) / h, (r - w) / h])) } } return this.path(p).attr({ fill: "#000", stroke: "none" }) }, r.add = function (e) { if (t.is(e, "array")) for (var r, i = this.set(), a = 0, o = e.length; a < o; a++) r = e[a] || {}, n[s](r.type) && i.push(this[r.type]().attr(r)); return i }, t.format = function (e, r) { var i = t.is(r, A) ? [0][c](r) : arguments; return e && t.is(e, S) && i.length - 1 && (e = e.replace(a, function (t, e) { return null == i[++e] ? "" : i[e] })), e || "" }, t.fullfill = (se = /\{([^\}]+)\}/g, oe = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g, function (t, e) { return String(t).replace(se, function (t, r) { return i = t, a = n = e, r.replace(oe, function (t, e, r, i, n) { e = e || i, a && (e in a && (a = a[e]), "function" == typeof a && n && (a = a())) }), a = (null == a || a == n ? i : a) + ""; var i, n, a }) }), t.ninja = function () { return l.was ? o.win.Raphael = l.is : delete Raphael, t }, t.st = he, function (e, r, i) { null == e.readyState && e.addEventListener && (e.addEventListener(r, i = function () { e.removeEventListener(r, i, !1), e.readyState = "complete" }, !1), e.readyState = "loading"), function r() { /in/.test(e.readyState) ? setTimeout(r, 9) : t.eve("raphael.DOMload") }() }(document, "DOMContentLoaded"), l.was ? o.win.Raphael = t : Raphael = t, eve.on("raphael.DOMload", function () { e = !0 }) }(), window.Raphael.svg && function (t) { var e = "hasOwnProperty", r = String, i = parseFloat, n = parseInt, a = Math, s = a.max, o = a.abs, l = a.pow, h = /[, ]+/, u = t.eve, c = "http://www.w3.org/1999/xlink", f = { block: "M5,0 0,2.5 5,5z", classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z", diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z", open: "M6,1 1,3.5 6,6", oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z" }, p = {}; t.toString = function () { return "Your browser supports SVG.\nYou are running Raphaël " + this.version }; var d = function (i, n) { if (n) { "string" == typeof i && (i = d(i)); for (var a in n) n[e](a) && ("xlink:" == a.substring(0, 6) ? i.setAttributeNS(c, a.substring(6), r(n[a])) : i.setAttribute(a, r(n[a]))) } else (i = t._g.doc.createElementNS("http://www.w3.org/2000/svg", i)).style && (i.style.webkitTapHighlightColor = "rgba(0,0,0,0)"); return i }, g = function (e, n) { var h = "linear", u = e.id + n, c = .5, f = .5, p = e.node, g = e.paper, v = p.style, x = t._g.doc.getElementById(u); if (!x) { if (n = (n = r(n).replace(t._radial_gradient, function (t, e, r) { if (h = "radial", e && r) { c = i(e); var n = 2 * ((f = i(r)) > .5) - 1; l(c - .5, 2) + l(f - .5, 2) > .25 && (f = a.sqrt(.25 - l(c - .5, 2)) * n + .5) && .5 != f && (f = f.toFixed(5) - 1e-5 * n) } return "" })).split(/\s*\-\s*/), "linear" == h) { var y = n.shift(); if (y = -i(y), isNaN(y)) return null; var m = [0, 0, a.cos(t.rad(y)), a.sin(t.rad(y))], b = 1 / (s(o(m[2]), o(m[3])) || 1); m[2] *= b, m[3] *= b, m[2] < 0 && (m[0] = -m[2], m[2] = 0), m[3] < 0 && (m[1] = -m[3], m[3] = 0) } var _ = t._parseDots(n); if (!_) return null; if (u = u.replace(/[\(\)\s,\xb0#]/g, "_"), e.gradient && u != e.gradient.id && (g.defs.removeChild(e.gradient), delete e.gradient), !e.gradient) { x = d(h + "Gradient", { id: u }), e.gradient = x, d(x, "radial" == h ? { fx: c, fy: f } : { x1: m[0], y1: m[1], x2: m[2], y2: m[3], gradientTransform: e.matrix.invert() }), g.defs.appendChild(x); for (var w = 0, k = _.length; w < k; w++) x.appendChild(d("stop", { offset: _[w].offset ? _[w].offset : w ? "100%" : "0%", "stop-color": _[w].color || "#fff" })) } } return d(p, { fill: "url(#" + u + ")", opacity: 1, "fill-opacity": 1 }), v.fill = "", v.opacity = 1, v.fillOpacity = 1, 1 }, v = function (t) { var e = t.getBBox(1); d(t.pattern, { patternTransform: t.matrix.invert() + " translate(" + e.x + "," + e.y + ")" }) }, x = function (i, n, a) { if ("path" == i.type) { for (var s, o, l, h, u, c = r(n).toLowerCase().split("-"), g = i.paper, v = a ? "end" : "start", x = i.node, y = i.attrs, m = y["stroke-width"], b = c.length, _ = "classic", w = 3, k = 3, C = 5; b--;) switch (c[b]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": _ = c[b]; break; case "wide": k = 5; break; case "narrow": k = 2; break; case "long": w = 5; break; case "short": w = 2 } if ("open" == _ ? (w += 2, k += 2, C += 2, l = 1, h = a ? 4 : 1, u = { fill: "none", stroke: y.stroke }) : (h = l = w / 2, u = { fill: y.stroke, stroke: "none" }), i._.arrows ? a ? (i._.arrows.endPath && p[i._.arrows.endPath]--, i._.arrows.endMarker && p[i._.arrows.endMarker]--) : (i._.arrows.startPath && p[i._.arrows.startPath]--, i._.arrows.startMarker && p[i._.arrows.startMarker]--) : i._.arrows = {}, "none" != _) { var B = "raphael-marker-" + _, S = "raphael-marker-" + v + _ + w + k; t._g.doc.getElementById(B) ? p[B]++ : (g.defs.appendChild(d(d("path"), { "stroke-linecap": "round", d: f[_], id: B })), p[B] = 1); var A, T = t._g.doc.getElementById(S); T ? (p[S]++, A = T.getElementsByTagName("use")[0]) : (T = d(d("marker"), { id: S, markerHeight: k, markerWidth: w, orient: "auto", refX: h, refY: k / 2 }), A = d(d("use"), { "xlink:href": "#" + B, transform: (a ? "rotate(180 " + w / 2 + " " + k / 2 + ") " : "") + "scale(" + w / C + "," + k / C + ")", "stroke-width": (1 / ((w / C + k / C) / 2)).toFixed(4) }), T.appendChild(A), g.defs.appendChild(T), p[S] = 1), d(A, u); var N = l * ("diamond" != _ && "oval" != _); a ? (s = i._.arrows.startdx * m || 0, o = t.getTotalLength(y.path) - N * m) : (s = N * m, o = t.getTotalLength(y.path) - (i._.arrows.enddx * m || 0)), (u = {})["marker-" + v] = "url(#" + S + ")", (o || s) && (u.d = Raphael.getSubpath(y.path, s, o)), d(x, u), i._.arrows[v + "Path"] = B, i._.arrows[v + "Marker"] = S, i._.arrows[v + "dx"] = N, i._.arrows[v + "Type"] = _, i._.arrows[v + "String"] = n } else a ? (s = i._.arrows.startdx * m || 0, o = t.getTotalLength(y.path) - s) : (s = 0, o = t.getTotalLength(y.path) - (i._.arrows.enddx * m || 0)), i._.arrows[v + "Path"] && d(x, { d: Raphael.getSubpath(y.path, s, o) }), delete i._.arrows[v + "Path"], delete i._.arrows[v + "Marker"], delete i._.arrows[v + "dx"], delete i._.arrows[v + "Type"], delete i._.arrows[v + "String"]; for (u in p) if (p[e](u) && !p[u]) { var L = t._g.doc.getElementById(u); L && L.parentNode.removeChild(L) } } }, y = { "": [0], none: [0], "-": [3, 1], ".": [1, 1], "-.": [3, 1, 1, 1], "-..": [3, 1, 1, 1, 1, 1], ". ": [1, 3], "- ": [4, 3], "--": [8, 3], "- .": [4, 3, 1, 3], "--.": [8, 3, 1, 3], "--..": [8, 3, 1, 3, 1, 3] }, m = function (t, e, i) { if (e = y[r(e).toLowerCase()]) { for (var n = t.attrs["stroke-width"] || "1", a = { round: n, square: n, butt: 0 }[t.attrs["stroke-linecap"] || i["stroke-linecap"]] || 0, s = [], o = e.length; o--;) s[o] = e[o] * n + (o % 2 ? 1 : -1) * a; d(t.node, { "stroke-dasharray": s.join(",") }) } }, b = function (i, a) { var l = i.node, u = i.attrs, f = l.style.visibility; l.style.visibility = "hidden"; for (var p in a) if (a[e](p)) { if (!t._availableAttrs[e](p)) continue; var y = a[p]; switch (u[p] = y, p) { case "blur": i.blur(y); break; case "href": case "title": case "target": var b = l.parentNode; if ("a" != b.tagName.toLowerCase()) { var w = d("a"); b.insertBefore(w, l), w.appendChild(l), b = w } "target" == p ? b.setAttributeNS(c, "show", "blank" == y ? "new" : y) : b.setAttributeNS(c, p, y); break; case "cursor": l.style.cursor = y; break; case "transform": i.transform(y); break; case "arrow-start": x(i, y); break; case "arrow-end": x(i, y, 1); break; case "clip-rect": var k = r(y).split(h); if (4 == k.length) { i.clip && i.clip.parentNode.parentNode.removeChild(i.clip.parentNode); var C = d("clipPath"), B = d("rect"); C.id = t.createUUID(), d(B, { x: k[0], y: k[1], width: k[2], height: k[3] }), C.appendChild(B), i.paper.defs.appendChild(C), d(l, { "clip-path": "url(#" + C.id + ")" }), i.clip = B } if (!y) { var S = l.getAttribute("clip-path"); if (S) { var A = t._g.doc.getElementById(S.replace(/(^url\(#|\)$)/g, "")); A && A.parentNode.removeChild(A), d(l, { "clip-path": "" }), delete i.clip } } break; case "path": "path" == i.type && (d(l, { d: y ? u.path = t._pathToAbsolute(y) : "M0,0" }), i._.dirty = 1, i._.arrows && ("startString" in i._.arrows && x(i, i._.arrows.startString), "endString" in i._.arrows && x(i, i._.arrows.endString, 1))); break; case "width": if (l.setAttribute(p, y), i._.dirty = 1, !u.fx) break; p = "x", y = u.x; case "x": u.fx && (y = -u.x - (u.width || 0)); case "rx": if ("rx" == p && "rect" == i.type) break; case "cx": l.setAttribute(p, y), i.pattern && v(i), i._.dirty = 1; break; case "height": if (l.setAttribute(p, y), i._.dirty = 1, !u.fy) break; p = "y", y = u.y; case "y": u.fy && (y = -u.y - (u.height || 0)); case "ry": if ("ry" == p && "rect" == i.type) break; case "cy": l.setAttribute(p, y), i.pattern && v(i), i._.dirty = 1; break; case "r": "rect" == i.type ? d(l, { rx: y, ry: y }) : l.setAttribute(p, y), i._.dirty = 1; break; case "src": "image" == i.type && l.setAttributeNS(c, "href", y); break; case "stroke-width": 1 == i._.sx && 1 == i._.sy || (y /= s(o(i._.sx), o(i._.sy)) || 1), i.paper._vbSize && (y *= i.paper._vbSize), l.setAttribute(p, y), u["stroke-dasharray"] && m(i, u["stroke-dasharray"], a), i._.arrows && ("startString" in i._.arrows && x(i, i._.arrows.startString), "endString" in i._.arrows && x(i, i._.arrows.endString, 1)); break; case "stroke-dasharray": m(i, y, a); break; case "fill": var T = r(y).match(t._ISURL); if (T) { C = d("pattern"); var N = d("image"); C.id = t.createUUID(), d(C, { x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1 }), d(N, { x: 0, y: 0, "xlink:href": T[1] }), C.appendChild(N), function (e) { t._preload(T[1], function () { var t = this.offsetWidth, r = this.offsetHeight; d(e, { width: t, height: r }), d(N, { width: t, height: r }), i.paper.safari() }) }(C), i.paper.defs.appendChild(C), d(l, { fill: "url(#" + C.id + ")" }), i.pattern = C, i.pattern && v(i); break } var L = t.getRGB(y); if (L.error) { if (("circle" == i.type || "ellipse" == i.type || "r" != r(y).charAt()) && g(i, y)) { if ("opacity" in u || "fill-opacity" in u) { var M = t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g, "")); if (M) { var z = M.getElementsByTagName("stop"); d(z[z.length - 1], { "stop-opacity": ("opacity" in u ? u.opacity : 1) * ("fill-opacity" in u ? u["fill-opacity"] : 1) }) } } u.gradient = y, u.fill = "none"; break } } else delete a.gradient, delete u.gradient, !t.is(u.opacity, "undefined") && t.is(a.opacity, "undefined") && d(l, { opacity: u.opacity }), !t.is(u["fill-opacity"], "undefined") && t.is(a["fill-opacity"], "undefined") && d(l, { "fill-opacity": u["fill-opacity"] }); L[e]("opacity") && d(l, { "fill-opacity": L.opacity > 1 ? L.opacity / 100 : L.opacity }); case "stroke": L = t.getRGB(y), l.setAttribute(p, L.hex), "stroke" == p && L[e]("opacity") && d(l, { "stroke-opacity": L.opacity > 1 ? L.opacity / 100 : L.opacity }), "stroke" == p && i._.arrows && ("startString" in i._.arrows && x(i, i._.arrows.startString), "endString" in i._.arrows && x(i, i._.arrows.endString, 1)); break; case "gradient": ("circle" == i.type || "ellipse" == i.type || "r" != r(y).charAt()) && g(i, y); break; case "opacity": u.gradient && !u[e]("stroke-opacity") && d(l, { "stroke-opacity": y > 1 ? y / 100 : y }); case "fill-opacity": if (u.gradient) { (M = t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g, ""))) && (z = M.getElementsByTagName("stop"), d(z[z.length - 1], { "stop-opacity": y })); break } default: "font-size" == p && (y = n(y, 10) + "px"); var E = p.replace(/(\-.)/g, function (t) { return t.substring(1).toUpperCase() }); l.style[E] = y, i._.dirty = 1, l.setAttribute(p, y) } } _(i, a), l.style.visibility = f }, _ = function (i, a) { if ("text" == i.type && (a[e]("text") || a[e]("font") || a[e]("font-size") || a[e]("x") || a[e]("y"))) { var s = i.attrs, o = i.node, l = o.firstChild ? n(t._g.doc.defaultView.getComputedStyle(o.firstChild, "").getPropertyValue("font-size"), 10) : 10; if (a[e]("text")) { for (s.text = a.text; o.firstChild;) o.removeChild(o.firstChild); for (var h, u = r(a.text).split("\n"), c = [], f = 0, p = u.length; f < p; f++) h = d("tspan"), f && d(h, { dy: 1.2 * l, x: s.x }), h.appendChild(t._g.doc.createTextNode(u[f])), o.appendChild(h), c[f] = h } else for (f = 0, p = (c = o.getElementsByTagName("tspan")).length; f < p; f++) f ? d(c[f], { dy: 1.2 * l, x: s.x }) : d(c[0], { dy: 0 }); d(o, { x: s.x, y: s.y }), i._.dirty = 1; var g = i._getBBox(), v = s.y - (g.y + g.height / 2); v && t.is(v, "finite") && d(c[0], { dy: v }) } }, w = function (e, r) { this[0] = this.node = e, e.raphael = !0, this.id = t._oid++, e.raphaelid = this.id, this.matrix = t.matrix(), this.realPath = null, this.paper = r, this.attrs = this.attrs || {}, this._ = { transform: [], sx: 1, sy: 1, deg: 0, dx: 0, dy: 0, dirty: 1 }, !r.bottom && (r.bottom = this), this.prev = r.top, r.top && (r.top.next = this), r.top = this, this.next = null }, k = t.el; w.prototype = k, k.constructor = w, t._engine.path = function (t, e) { var r = d("path"); e.canvas && e.canvas.appendChild(r); var i = new w(r, e); return i.type = "path", b(i, { fill: "none", stroke: "#000", path: t }), i }, k.rotate = function (t, e, n) { if (this.removed) return this; if ((t = r(t).split(h)).length - 1 && (e = i(t[1]), n = i(t[2])), t = i(t[0]), null == n && (e = n), null == e || null == n) { var a = this.getBBox(1); e = a.x + a.width / 2, n = a.y + a.height / 2 } return this.transform(this._.transform.concat([["r", t, e, n]])), this }, k.scale = function (t, e, n, a) { if (this.removed) return this; if ((t = r(t).split(h)).length - 1 && (e = i(t[1]), n = i(t[2]), a = i(t[3])), t = i(t[0]), null == e && (e = t), null == a && (n = a), null == n || null == a) var s = this.getBBox(1); return n = null == n ? s.x + s.width / 2 : n, a = null == a ? s.y + s.height / 2 : a, this.transform(this._.transform.concat([["s", t, e, n, a]])), this }, k.translate = function (t, e) { return this.removed ? this : ((t = r(t).split(h)).length - 1 && (e = i(t[1])), t = i(t[0]) || 0, e = +e || 0, this.transform(this._.transform.concat([["t", t, e]])), this) }, k.transform = function (r) { var i = this._; if (null == r) return i.transform; if (t._extractTransform(this, r), this.clip && d(this.clip, { transform: this.matrix.invert() }), this.pattern && v(this), this.node && d(this.node, { transform: this.matrix }), 1 != i.sx || 1 != i.sy) { var n = this.attrs[e]("stroke-width") ? this.attrs["stroke-width"] : 1; this.attr({ "stroke-width": n }) } return this }, k.hide = function () { return !this.removed && this.paper.safari(this.node.style.display = "none"), this }, k.show = function () { return !this.removed && this.paper.safari(this.node.style.display = ""), this }, k.remove = function () { if (!this.removed && this.node.parentNode) { var e = this.paper; e.__set__ && e.__set__.exclude(this), u.unbind("raphael.*.*." + this.id), this.gradient && e.defs.removeChild(this.gradient), t._tear(this, e), "a" == this.node.parentNode.tagName.toLowerCase() ? this.node.parentNode.parentNode.removeChild(this.node.parentNode) : this.node.parentNode.removeChild(this.node); for (var r in this) this[r] = "function" == typeof this[r] ? t._removedFactory(r) : null; this.removed = !0 } }, k._getBBox = function () { if ("none" == this.node.style.display) { this.show(); var t = !0 } var e = {}; try { e = this.node.getBBox() } catch (t) { } finally { e = e || {} } return t && this.hide(), e }, k.attr = function (r, i) { if (this.removed) return this; if (null == r) { var n = {}; for (var a in this.attrs) this.attrs[e](a) && (n[a] = this.attrs[a]); return n.gradient && "none" == n.fill && (n.fill = n.gradient) && delete n.gradient, n.transform = this._.transform, n } if (null == i && t.is(r, "string")) { if ("fill" == r && "none" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient; if ("transform" == r) return this._.transform; for (var s = r.split(h), o = {}, l = 0, c = s.length; l < c; l++) (r = s[l]) in this.attrs ? o[r] = this.attrs[r] : t.is(this.paper.customAttributes[r], "function") ? o[r] = this.paper.customAttributes[r].def : o[r] = t._availableAttrs[r]; return c - 1 ? o : o[s[0]] } if (null == i && t.is(r, "array")) { for (o = {}, l = 0, c = r.length; l < c; l++) o[r[l]] = this.attr(r[l]); return o } if (null != i) { var f = {}; f[r] = i } else null != r && t.is(r, "object") && (f = r); for (var p in f) u("raphael.attr." + p + "." + this.id, this, f[p]); for (p in this.paper.customAttributes) if (this.paper.customAttributes[e](p) && f[e](p) && t.is(this.paper.customAttributes[p], "function")) { var d = this.paper.customAttributes[p].apply(this, [].concat(f[p])); this.attrs[p] = f[p]; for (var g in d) d[e](g) && (f[g] = d[g]) } return b(this, f), this }, k.toFront = function () { if (this.removed) return this; "a" == this.node.parentNode.tagName.toLowerCase() ? this.node.parentNode.parentNode.appendChild(this.node.parentNode) : this.node.parentNode.appendChild(this.node); var e = this.paper; return e.top != this && t._tofront(this, e), this }, k.toBack = function () { if (this.removed) return this; var e = this.node.parentNode; "a" == e.tagName.toLowerCase() ? e.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild) : e.firstChild != this.node && e.insertBefore(this.node, this.node.parentNode.firstChild), t._toback(this, this.paper); this.paper; return this }, k.insertAfter = function (e) { if (this.removed) return this; var r = e.node || e[e.length - 1].node; return r.nextSibling ? r.parentNode.insertBefore(this.node, r.nextSibling) : r.parentNode.appendChild(this.node), t._insertafter(this, e, this.paper), this }, k.insertBefore = function (e) { if (this.removed) return this; var r = e.node || e[0].node; return r.parentNode.insertBefore(this.node, r), t._insertbefore(this, e, this.paper), this }, k.blur = function (e) { var r = this; if (0 != +e) { var i = d("filter"), n = d("feGaussianBlur"); r.attrs.blur = e, i.id = t.createUUID(), d(n, { stdDeviation: +e || 1.5 }), i.appendChild(n), r.paper.defs.appendChild(i), r._blur = i, d(r.node, { filter: "url(#" + i.id + ")" }) } else r._blur && (r._blur.parentNode.removeChild(r._blur), delete r._blur, delete r.attrs.blur), r.node.removeAttribute("filter") }, t._engine.circle = function (t, e, r, i) { var n = d("circle"); t.canvas && t.canvas.appendChild(n); var a = new w(n, t); return a.attrs = { cx: e, cy: r, r: i, fill: "none", stroke: "#000" }, a.type = "circle", d(n, a.attrs), a }, t._engine.rect = function (t, e, r, i, n, a) { var s = d("rect"); t.canvas && t.canvas.appendChild(s); var o = new w(s, t); return o.attrs = { x: e, y: r, width: i, height: n, r: a || 0, rx: a || 0, ry: a || 0, fill: "none", stroke: "#000" }, o.type = "rect", d(s, o.attrs), o }, t._engine.ellipse = function (t, e, r, i, n) { var a = d("ellipse"); t.canvas && t.canvas.appendChild(a); var s = new w(a, t); return s.attrs = { cx: e, cy: r, rx: i, ry: n, fill: "none", stroke: "#000" }, s.type = "ellipse", d(a, s.attrs), s }, t._engine.image = function (t, e, r, i, n, a) { var s = d("image"); d(s, { x: r, y: i, width: n, height: a, preserveAspectRatio: "none" }), s.setAttributeNS(c, "href", e), t.canvas && t.canvas.appendChild(s); var o = new w(s, t); return o.attrs = { x: r, y: i, width: n, height: a, src: e }, o.type = "image", o }, t._engine.text = function (e, r, i, n) { var a = d("text"); e.canvas && e.canvas.appendChild(a); var s = new w(a, e); return s.attrs = { x: r, y: i, "text-anchor": "middle", text: n, font: t._availableAttrs.font, stroke: "none", fill: "#000" }, s.type = "text", b(s, s.attrs), s }, t._engine.setSize = function (t, e) { return this.width = t || this.width, this.height = e || this.height, this.canvas.setAttribute("width", this.width), this.canvas.setAttribute("height", this.height), this._viewBox && this.setViewBox.apply(this, this._viewBox), this }, t._engine.create = function () { var e = t._getContainer.apply(0, arguments), r = e && e.container, i = e.x, n = e.y, a = e.width, s = e.height; if (!r) throw new Error("SVG container not found."); var o, l = d("svg"), h = "overflow:hidden;"; return i = i || 0, n = n || 0, a = a || 512, d(l, { height: s = s || 342, version: 1.1, width: a, xmlns: "http://www.w3.org/2000/svg" }), 1 == r ? (l.style.cssText = h + "position:absolute;left:" + i + "px;top:" + n + "px", t._g.doc.body.appendChild(l), o = 1) : (l.style.cssText = h + "position:relative", r.firstChild ? r.insertBefore(l, r.firstChild) : r.appendChild(l)), (r = new t._Paper).width = a, r.height = s, r.canvas = l, r.clear(), r._left = r._top = 0, o && (r.renderfix = function () { }), r.renderfix(), r }, t._engine.setViewBox = function (t, e, r, i, n) { u("raphael.setViewBox", this, this._viewBox, [t, e, r, i, n]); var a, o, l = s(r / this.width, i / this.height), h = this.top, c = n ? "meet" : "xMinYMin"; for (null == t ? (this._vbSize && (l = 1), delete this._vbSize, a = "0 0 " + this.width + " " + this.height) : (this._vbSize = l, a = t + " " + e + " " + r + " " + i), d(this.canvas, { viewBox: a, preserveAspectRatio: c }) ; l && h;) o = "stroke-width" in h.attrs ? h.attrs["stroke-width"] : 1, h.attr({ "stroke-width": o }), h._.dirty = 1, h._.dirtyT = 1, h = h.prev; return this._viewBox = [t, e, r, i, !!n], this }, t.prototype.renderfix = function () { var t, e = this.canvas, r = e.style; try { t = e.getScreenCTM() || e.createSVGMatrix() } catch (r) { t = e.createSVGMatrix() } var i = -t.e % 1, n = -t.f % 1; (i || n) && (i && (this._left = (this._left + i) % 1, r.left = this._left + "px"), n && (this._top = (this._top + n) % 1, r.top = this._top + "px")) }, t.prototype.clear = function () { t.eve("raphael.clear", this); for (var e = this.canvas; e.firstChild;) e.removeChild(e.firstChild); this.bottom = this.top = null, (this.desc = d("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël " + t.version)), e.appendChild(this.desc), e.appendChild(this.defs = d("defs")) }, t.prototype.remove = function () { u("raphael.remove", this), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas); for (var e in this) this[e] = "function" == typeof this[e] ? t._removedFactory(e) : null }; var C = t.st; for (var B in k) k[e](B) && !C[e](B) && (C[B] = function (t) { return function () { var e = arguments; return this.forEach(function (r) { r[t].apply(r, e) }) } }(B)) }(window.Raphael), window.Raphael.vml && function (t) { var e = "hasOwnProperty", r = String, i = parseFloat, n = Math, a = n.round, s = n.max, o = n.min, l = n.abs, h = "fill", u = /[, ]+/, c = t.eve, f = " ", p = { M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x" }, d = /([clmz]),?([^clmz]*)/gi, g = / progid:\S+Blur\([^\)]+\)/g, v = /-?[^,\s-]+/g, x = "position:absolute;left:0;top:0;width:1px;height:1px", y = 21600, m = { path: 1, rect: 1, image: 1 }, b = { circle: 1, ellipse: 1 }, _ = function (e, r, i) { var n = t.matrix(); return n.rotate(-e, .5, .5), { dx: n.x(r, i), dy: n.y(r, i) } }, w = function (t, e, r, i, n, a) { var s = t._, o = t.matrix, u = s.fillpos, c = t.node, p = c.style, d = 1, g = "", v = y / e, x = y / r; if (p.visibility = "hidden", e && r) { if (c.coordsize = l(v) + f + l(x), p.rotation = a * (e * r < 0 ? -1 : 1), a) { var m = _(a, i, n); i = m.dx, n = m.dy } if (e < 0 && (g += "x"), r < 0 && (g += " y") && (d = -1), p.flip = g, c.coordorigin = i * -v + f + n * -x, u || s.fillsize) { var b = c.getElementsByTagName(h); b = b && b[0], c.removeChild(b), u && (m = _(a, o.x(u[0], u[1]), o.y(u[0], u[1])), b.position = m.dx * d + f + m.dy * d), s.fillsize && (b.size = s.fillsize[0] * l(e) + f + s.fillsize[1] * l(r)), c.appendChild(b) } p.visibility = "visible" } }; t.toString = function () { return "Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël " + this.version }; var k, C = function (t, e, i) { for (var n = r(e).toLowerCase().split("-"), a = i ? "end" : "start", s = n.length, o = "classic", l = "medium", h = "medium"; s--;) switch (n[s]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": o = n[s]; break; case "wide": case "narrow": h = n[s]; break; case "long": case "short": l = n[s] } var u = t.node.getElementsByTagName("stroke")[0]; u[a + "arrow"] = o, u[a + "arrowlength"] = l, u[a + "arrowwidth"] = h }, B = function (n, l) { n.attrs = n.attrs || {}; var c = n.node, g = n.attrs, x = c.style, _ = m[n.type] && (l.x != g.x || l.y != g.y || l.width != g.width || l.height != g.height || l.cx != g.cx || l.cy != g.cy || l.rx != g.rx || l.ry != g.ry || l.r != g.r), B = b[n.type] && (g.cx != l.cx || g.cy != l.cy || g.r != l.r || g.rx != l.rx || g.ry != l.ry), A = n; for (var T in l) l[e](T) && (g[T] = l[T]); if (_ && (g.path = t._getPath[n.type](n), n._.dirty = 1), l.href && (c.href = l.href), l.title && (c.title = l.title), l.target && (c.target = l.target), l.cursor && (x.cursor = l.cursor), "blur" in l && n.blur(l.blur), (l.path && "path" == n.type || _) && (c.path = function (e) { var i = /[ahqstv]/gi, n = t._pathToAbsolute; if (r(e).match(i) && (n = t._path2curve), i = /[clmz]/g, n == t._pathToAbsolute && !r(e).match(i)) { var s = r(e).replace(d, function (t, e, r) { var i = [], n = "m" == e.toLowerCase(), s = p[e]; return r.replace(v, function (t) { n && 2 == i.length && (s += i + p["m" == e ? "l" : "L"], i = []), i.push(a(t * y)) }), s + i }); return s } var o, l, h = n(e); s = []; for (var u = 0, c = h.length; u < c; u++) { o = h[u], "z" == (l = h[u][0].toLowerCase()) && (l = "x"); for (var g = 1, x = o.length; g < x; g++) l += a(o[g] * y) + (g != x - 1 ? "," : ""); s.push(l) } return s.join(f) }(~r(g.path).toLowerCase().indexOf("r") ? t._pathToAbsolute(g.path) : g.path), "image" == n.type && (n._.fillpos = [g.x, g.y], n._.fillsize = [g.width, g.height], w(n, 1, 1, 0, 0, 0))), "transform" in l && n.transform(l.transform), B) { var N = +g.cx, L = +g.cy, M = +g.rx || +g.r || 0, z = +g.ry || +g.r || 0; c.path = t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", a((N - M) * y), a((L - z) * y), a((N + M) * y), a((L + z) * y), a(N * y)) } if ("clip-rect" in l) { var E = r(l["clip-rect"]).split(u); if (4 == E.length) { E[2] = +E[2] + +E[0], E[3] = +E[3] + +E[1]; var F = c.clipRect || t._g.doc.createElement("div"), R = F.style; R.clip = t.format("rect({1}px {2}px {3}px {0}px)", E), c.clipRect || (R.position = "absolute", R.top = 0, R.left = 0, R.width = n.paper.width + "px", R.height = n.paper.height + "px", c.parentNode.insertBefore(F, c), F.appendChild(c), c.clipRect = F) } l["clip-rect"] || c.clipRect && (c.clipRect.style.clip = "auto") } if (n.textpath) { var P = n.textpath.style; l.font && (P.font = l.font), l["font-family"] && (P.fontFamily = '"' + l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, "") + '"'), l["font-size"] && (P.fontSize = l["font-size"]), l["font-weight"] && (P.fontWeight = l["font-weight"]), l["font-style"] && (P.fontStyle = l["font-style"]) } if ("arrow-start" in l && C(A, l["arrow-start"]), "arrow-end" in l && C(A, l["arrow-end"], 1), null != l.opacity || null != l["stroke-width"] || null != l.fill || null != l.src || null != l.stroke || null != l["stroke-width"] || null != l["stroke-opacity"] || null != l["fill-opacity"] || null != l["stroke-dasharray"] || null != l["stroke-miterlimit"] || null != l["stroke-linejoin"] || null != l["stroke-linecap"]) { var I = c.getElementsByTagName(h); if (!(I = I && I[0]) && (I = k(h)), "image" == n.type && l.src && (I.src = l.src), l.fill && (I.on = !0), null != I.on && "none" != l.fill && null !== l.fill || (I.on = !1), I.on && l.fill) { var j = r(l.fill).match(t._ISURL); if (j) { I.parentNode == c && c.removeChild(I), I.rotate = !0, I.src = j[1], I.type = "tile"; var q = n.getBBox(1); I.position = q.x + f + q.y, n._.fillpos = [q.x, q.y], t._preload(j[1], function () { n._.fillsize = [this.offsetWidth, this.offsetHeight] }) } else I.color = t.getRGB(l.fill).hex, I.src = "", I.type = "solid", t.getRGB(l.fill).error && (A.type in { circle: 1, ellipse: 1 } || "r" != r(l.fill).charAt()) && S(A, l.fill, I) && (g.fill = "none", g.gradient = l.fill, I.rotate = !1) } if ("fill-opacity" in l || "opacity" in l) { var D = ((+g["fill-opacity"] + 1 || 2) - 1) * ((+g.opacity + 1 || 2) - 1) * ((+t.getRGB(l.fill).o + 1 || 2) - 1); D = o(s(D, 0), 1), I.opacity = D, I.src && (I.color = "none") } c.appendChild(I); var V = c.getElementsByTagName("stroke") && c.getElementsByTagName("stroke")[0], O = !1; !V && (O = V = k("stroke")), (l.stroke && "none" != l.stroke || l["stroke-width"] || null != l["stroke-opacity"] || l["stroke-dasharray"] || l["stroke-miterlimit"] || l["stroke-linejoin"] || l["stroke-linecap"]) && (V.on = !0), ("none" == l.stroke || null === l.stroke || null == V.on || 0 == l.stroke || 0 == l["stroke-width"]) && (V.on = !1); var Y = t.getRGB(l.stroke); V.on && l.stroke && (V.color = Y.hex), D = ((+g["stroke-opacity"] + 1 || 2) - 1) * ((+g.opacity + 1 || 2) - 1) * ((+Y.o + 1 || 2) - 1); var G = .75 * (i(l["stroke-width"]) || 1); if (D = o(s(D, 0), 1), null == l["stroke-width"] && (G = g["stroke-width"]), l["stroke-width"] && (V.weight = G), G && G < 1 && (D *= G) && (V.weight = 1), V.opacity = D, l["stroke-linejoin"] && (V.joinstyle = l["stroke-linejoin"] || "miter"), V.miterlimit = l["stroke-miterlimit"] || 8, l["stroke-linecap"] && (V.endcap = "butt" == l["stroke-linecap"] ? "flat" : "square" == l["stroke-linecap"] ? "square" : "round"), l["stroke-dasharray"]) { var W = { "-": "shortdash", ".": "shortdot", "-.": "shortdashdot", "-..": "shortdashdotdot", ". ": "dot", "- ": "dash", "--": "longdash", "- .": "dashdot", "--.": "longdashdot", "--..": "longdashdotdot" }; V.dashstyle = W[e](l["stroke-dasharray"]) ? W[l["stroke-dasharray"]] : "" } O && c.appendChild(V) } if ("text" == A.type) { A.paper.canvas.style.display = ""; var X = A.paper.span, H = g.font && g.font.match(/\d+(?:\.\d*)?(?=px)/); x = X.style, g.font && (x.font = g.font), g["font-family"] && (x.fontFamily = g["font-family"]), g["font-weight"] && (x.fontWeight = g["font-weight"]), g["font-style"] && (x.fontStyle = g["font-style"]), H = i(g["font-size"] || H && H[0]) || 10, x.fontSize = 100 * H + "px", A.textpath.string && (X.innerHTML = r(A.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>")); var U = X.getBoundingClientRect(); A.W = g.w = (U.right - U.left) / 100, A.H = g.h = (U.bottom - U.top) / 100, A.X = g.x, A.Y = g.y + A.H / 2, ("x" in l || "y" in l) && (A.path.v = t.format("m{0},{1}l{2},{1}", a(g.x * y), a(g.y * y), a(g.x * y) + 1)); for (var $ = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"], Z = 0, Q = $.length; Z < Q; Z++) if ($[Z] in l) { A._.dirty = 1; break } switch (g["text-anchor"]) { case "start": A.textpath.style["v-text-align"] = "left", A.bbx = A.W / 2; break; case "end": A.textpath.style["v-text-align"] = "right", A.bbx = -A.W / 2; break; default: A.textpath.style["v-text-align"] = "center", A.bbx = 0 } A.textpath.style["v-text-kern"] = !0 } }, S = function (e, a, s) { e.attrs = e.attrs || {}; e.attrs; var o = Math.pow, l = "linear", h = ".5 .5"; if (e.attrs.gradient = a, a = (a = r(a).replace(t._radial_gradient, function (t, e, r) { return l = "radial", e && r && (e = i(e), r = i(r), o(e - .5, 2) + o(r - .5, 2) > .25 && (r = n.sqrt(.25 - o(e - .5, 2)) * (2 * (r > .5) - 1) + .5), h = e + f + r), "" })).split(/\s*\-\s*/), "linear" == l) { var u = a.shift(); if (u = -i(u), isNaN(u)) return null } var c = t._parseDots(a); if (!c) return null; if (e = e.shape || e.node, c.length) { e.removeChild(s), s.on = !0, s.method = "none", s.color = c[0].color, s.color2 = c[c.length - 1].color; for (var p = [], d = 0, g = c.length; d < g; d++) c[d].offset && p.push(c[d].offset + f + c[d].color); s.colors = p.length ? p.join() : "0% " + s.color, "radial" == l ? (s.type = "gradientTitle", s.focus = "100%", s.focussize = "0 0", s.focusposition = h, s.angle = 0) : (s.type = "gradient", s.angle = (270 - u) % 360), e.appendChild(s) } return 1 }, A = function (e, r) { this[0] = this.node = e, e.raphael = !0, this.id = t._oid++, e.raphaelid = this.id, this.X = 0, this.Y = 0, this.attrs = {}, this.paper = r, this.matrix = t.matrix(), this._ = { transform: [], sx: 1, sy: 1, dx: 0, dy: 0, deg: 0, dirty: 1, dirtyT: 1 }, !r.bottom && (r.bottom = this), this.prev = r.top, r.top && (r.top.next = this), r.top = this, this.next = null }, T = t.el; A.prototype = T, T.constructor = A, T.transform = function (e) { if (null == e) return this._.transform; var i, n = this.paper._viewBoxShift, a = n ? "s" + [n.scale, n.scale] + "-1-1t" + [n.dx, n.dy] : ""; n && (i = e = r(e).replace(/\.{3}|\u2026/g, this._.transform || "")), t._extractTransform(this, a + e); var s, o = this.matrix.clone(), l = this.skew, h = this.node, u = ~r(this.attrs.fill).indexOf("-"), c = !r(this.attrs.fill).indexOf("url("); if (o.translate(-.5, -.5), c || u || "image" == this.type) if (l.matrix = "1 0 0 1", l.offset = "0 0", s = o.split(), u && s.noRotation || !s.isSimple) { h.style.filter = o.toFilter(); var p = this.getBBox(), d = this.getBBox(1), g = p.x - d.x, v = p.y - d.y; h.coordorigin = g * -y + f + v * -y, w(this, 1, 1, g, v, 0) } else h.style.filter = "", w(this, s.scalex, s.scaley, s.dx, s.dy, s.rotate); else h.style.filter = "", l.matrix = r(o), l.offset = o.offset(); return i && (this._.transform = i), this }, T.rotate = function (t, e, n) { if (this.removed) return this; if (null != t) { if ((t = r(t).split(u)).length - 1 && (e = i(t[1]), n = i(t[2])), t = i(t[0]), null == n && (e = n), null == e || null == n) { var a = this.getBBox(1); e = a.x + a.width / 2, n = a.y + a.height / 2 } return this._.dirtyT = 1, this.transform(this._.transform.concat([["r", t, e, n]])), this } }, T.translate = function (t, e) { return this.removed ? this : ((t = r(t).split(u)).length - 1 && (e = i(t[1])), t = i(t[0]) || 0, e = +e || 0, this._.bbox && (this._.bbox.x += t, this._.bbox.y += e), this.transform(this._.transform.concat([["t", t, e]])), this) }, T.scale = function (t, e, n, a) { if (this.removed) return this; if ((t = r(t).split(u)).length - 1 && (e = i(t[1]), n = i(t[2]), a = i(t[3]), isNaN(n) && (n = null), isNaN(a) && (a = null)), t = i(t[0]), null == e && (e = t), null == a && (n = a), null == n || null == a) var s = this.getBBox(1); return n = null == n ? s.x + s.width / 2 : n, a = null == a ? s.y + s.height / 2 : a, this.transform(this._.transform.concat([["s", t, e, n, a]])), this._.dirtyT = 1, this }, T.hide = function () { return !this.removed && (this.node.style.display = "none"), this }, T.show = function () { return !this.removed && (this.node.style.display = ""), this }, T._getBBox = function () { return this.removed ? {} : { x: this.X + (this.bbx || 0) - this.W / 2, y: this.Y - this.H, width: this.W, height: this.H } }, T.remove = function () { if (!this.removed && this.node.parentNode) { this.paper.__set__ && this.paper.__set__.exclude(this), t.eve.unbind("raphael.*.*." + this.id), t._tear(this, this.paper), this.node.parentNode.removeChild(this.node), this.shape && this.shape.parentNode.removeChild(this.shape); for (var e in this) this[e] = "function" == typeof this[e] ? t._removedFactory(e) : null; this.removed = !0 } }, T.attr = function (r, i) { if (this.removed) return this; if (null == r) { var n = {}; for (var a in this.attrs) this.attrs[e](a) && (n[a] = this.attrs[a]); return n.gradient && "none" == n.fill && (n.fill = n.gradient) && delete n.gradient, n.transform = this._.transform, n } if (null == i && t.is(r, "string")) { if (r == h && "none" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient; for (var s = r.split(u), o = {}, l = 0, f = s.length; l < f; l++) (r = s[l]) in this.attrs ? o[r] = this.attrs[r] : t.is(this.paper.customAttributes[r], "function") ? o[r] = this.paper.customAttributes[r].def : o[r] = t._availableAttrs[r]; return f - 1 ? o : o[s[0]] } if (this.attrs && null == i && t.is(r, "array")) { for (o = {}, l = 0, f = r.length; l < f; l++) o[r[l]] = this.attr(r[l]); return o } var p; null != i && ((p = {})[r] = i), null == i && t.is(r, "object") && (p = r); for (var d in p) c("raphael.attr." + d + "." + this.id, this, p[d]); if (p) { for (d in this.paper.customAttributes) if (this.paper.customAttributes[e](d) && p[e](d) && t.is(this.paper.customAttributes[d], "function")) { var g = this.paper.customAttributes[d].apply(this, [].concat(p[d])); this.attrs[d] = p[d]; for (var v in g) g[e](v) && (p[v] = g[v]) } p.text && "text" == this.type && (this.textpath.string = p.text), B(this, p) } return this }, T.toFront = function () { return !this.removed && this.node.parentNode.appendChild(this.node), this.paper && this.paper.top != this && t._tofront(this, this.paper), this }, T.toBack = function () { return this.removed ? this : (this.node.parentNode.firstChild != this.node && (this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild), t._toback(this, this.paper)), this) }, T.insertAfter = function (e) { return this.removed ? this : (e.constructor == t.st.constructor && (e = e[e.length - 1]), e.node.nextSibling ? e.node.parentNode.insertBefore(this.node, e.node.nextSibling) : e.node.parentNode.appendChild(this.node), t._insertafter(this, e, this.paper), this) }, T.insertBefore = function (e) { return this.removed ? this : (e.constructor == t.st.constructor && (e = e[0]), e.node.parentNode.insertBefore(this.node, e.node), t._insertbefore(this, e, this.paper), this) }, T.blur = function (e) { var r = this.node.runtimeStyle, i = r.filter; i = i.replace(g, ""), 0 != +e ? (this.attrs.blur = e, r.filter = i + f + " progid:DXImageTransform.Microsoft.Blur(pixelradius=" + (+e || 1.5) + ")", r.margin = t.format("-{0}px 0 0 -{0}px", a(+e || 1.5))) : (r.filter = i, r.margin = 0, delete this.attrs.blur) }, t._engine.path = function (t, e) { var r = k("shape"); r.style.cssText = x, r.coordsize = y + f + y, r.coordorigin = e.coordorigin; var i = new A(r, e), n = { fill: "none", stroke: "#000" }; t && (n.path = t), i.type = "path", i.path = [], i.Path = "", B(i, n), e.canvas.appendChild(r); var a = k("skew"); return a.on = !0, r.appendChild(a), i.skew = a, i.transform(""), i }, t._engine.rect = function (e, r, i, n, a, s) { var o = t._rectPath(r, i, n, a, s), l = e.path(o), h = l.attrs; return l.X = h.x = r, l.Y = h.y = i, l.W = h.width = n, l.H = h.height = a, h.r = s, h.path = o, l.type = "rect", l }, t._engine.ellipse = function (t, e, r, i, n) { var a = t.path(); a.attrs; return a.X = e - i, a.Y = r - n, a.W = 2 * i, a.H = 2 * n, a.type = "ellipse", B(a, { cx: e, cy: r, rx: i, ry: n }), a }, t._engine.circle = function (t, e, r, i) { var n = t.path(); n.attrs; return n.X = e - i, n.Y = r - i, n.W = n.H = 2 * i, n.type = "circle", B(n, { cx: e, cy: r, r: i }), n }, t._engine.image = function (e, r, i, n, a, s) { var o = t._rectPath(i, n, a, s), l = e.path(o).attr({ stroke: "none" }), u = l.attrs, c = l.node, f = c.getElementsByTagName(h)[0]; return u.src = r, l.X = u.x = i, l.Y = u.y = n, l.W = u.width = a, l.H = u.height = s, u.path = o, l.type = "image", f.parentNode == c && c.removeChild(f), f.rotate = !0, f.src = r, f.type = "tile", l._.fillpos = [i, n], l._.fillsize = [a, s], c.appendChild(f), w(l, 1, 1, 0, 0, 0), l }, t._engine.text = function (e, i, n, s) { var o = k("shape"), l = k("path"), h = k("textpath"); i = i || 0, n = n || 0, s = s || "", l.v = t.format("m{0},{1}l{2},{1}", a(i * y), a(n * y), a(i * y) + 1), l.textpathok = !0, h.string = r(s), h.on = !0, o.style.cssText = x, o.coordsize = y + f + y, o.coordorigin = "0 0"; var u = new A(o, e), c = { fill: "#000", stroke: "none", font: t._availableAttrs.font, text: s }; u.shape = o, u.path = l, u.textpath = h, u.type = "text", u.attrs.text = r(s), u.attrs.x = i, u.attrs.y = n, u.attrs.w = 1, u.attrs.h = 1, B(u, c), o.appendChild(h), o.appendChild(l), e.canvas.appendChild(o); var p = k("skew"); return p.on = !0, o.appendChild(p), u.skew = p, u.transform(""), u }, t._engine.setSize = function (e, r) { var i = this.canvas.style; return this.width = e, this.height = r, e == +e && (e += "px"), r == +r && (r += "px"), i.width = e, i.height = r, i.clip = "rect(0 " + e + " " + r + " 0)", this._viewBox && t._engine.setViewBox.apply(this, this._viewBox), this }, t._engine.setViewBox = function (e, r, i, n, a) { t.eve("raphael.setViewBox", this, this._viewBox, [e, r, i, n, a]); var o, l, h = this.width, u = this.height, c = 1 / s(i / h, n / u); return a && (l = h / i, i * (o = u / n) < h && (e -= (h - i * o) / 2 / o), n * l < u && (r -= (u - n * l) / 2 / l)), this._viewBox = [e, r, i, n, !!a], this._viewBoxShift = { dx: -e, dy: -r, scale: c }, this.forEach(function (t) { t.transform("...") }), this }, t._engine.initWin = function (t) { var e = t.document; e.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)"); try { !e.namespaces.rvml && e.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"), k = function (t) { return e.createElement("<rvml:" + t + ' class="rvml">') } } catch (t) { k = function (t) { return e.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">') } } }, t._engine.initWin(t._g.win), t._engine.create = function () { var e = t._getContainer.apply(0, arguments), r = e.container, i = e.height, n = e.width, a = e.x, s = e.y; if (!r) throw new Error("VML container not found."); var o = new t._Paper, l = o.canvas = t._g.doc.createElement("div"), h = l.style; return a = a || 0, s = s || 0, n = n || 512, i = i || 342, o.width = n, o.height = i, n == +n && (n += "px"), i == +i && (i += "px"), o.coordsize = 216e5 + f + 216e5, o.coordorigin = "0 0", o.span = t._g.doc.createElement("span"), o.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;", l.appendChild(o.span), h.cssText = t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", n, i), 1 == r ? (t._g.doc.body.appendChild(l), h.left = a + "px", h.top = s + "px", h.position = "absolute") : r.firstChild ? r.insertBefore(l, r.firstChild) : r.appendChild(l), o.renderfix = function () { }, o }, t.prototype.clear = function () { t.eve("raphael.clear", this), this.canvas.innerHTML = "", this.span = t._g.doc.createElement("span"), this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;", this.canvas.appendChild(this.span), this.bottom = this.top = null }, t.prototype.remove = function () { t.eve("raphael.remove", this), this.canvas.parentNode.removeChild(this.canvas); for (var e in this) this[e] = "function" == typeof this[e] ? t._removedFactory(e) : null; return !0 }; var N = t.st; for (var L in T) T[e](L) && !N[e](L) && (N[L] = function (t) { return function () { var e = arguments; return this.forEach(function (r) { r[t].apply(r, e) }) } }(L)) }(window.Raphael);
