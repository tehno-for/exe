(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{43:function(e,t,a){},46:function(e,t,a){e.exports=a(89)},67:function(e,t,a){},68:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e){e.exports=JSON.parse('{"environment":"test"}')},85:function(e){e.exports=JSON.parse('{"dev":{"wsUrl":"http://localhost:11041","itemLimit":50,"siteUrl":"http://localhost:11040"},"test":{"wsUrl":"http://51.159.66.144:11041","itemLimit":50,"siteUrl":"http://mig.opetlubricants.az"}}')},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(44),i=a.n(l),r=a(16),s=a(1),o=a(7),m=a.n(o),u=a(3),d=a.n(u),g=(a(67),function(e){var t=e.config,a=e.onSuccessLogin,l=e.onErrorLogin,i=e.getUsername,r=Object(n.useState)(""),o=Object(s.a)(r,2),m=o[0],u=o[1],g=Object(n.useState)(""),b=Object(s.a)(g,2),f=b[0],p=b[1];return c.a.createElement("div",{className:"form login-form"},c.a.createElement("div",{className:"form__fieldBox"},c.a.createElement("svg",{className:"form__icon prepend",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},c.a.createElement("path",{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"})),c.a.createElement("input",{type:"text",id:"loginUsername","aria-placeholder":"Username",placeholder:"Username",value:m,onChange:function(e){return u(e.target.value)},className:"form__input validate","data-validation":"regex","data-regex":""}),c.a.createElement("div",{className:"form__error"},"error")),c.a.createElement("div",{className:"form__fieldBox"},c.a.createElement("svg",{className:"form__icon prepend",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},c.a.createElement("path",{d:"M320 48c79.529 0 144 64.471 144 144s-64.471 144-144 144c-19 0-37.076-3.675-53.66-10.34L224 368h-32v48h-48v48H48v-96l134.2-134.2A144 144 0 0 1 176 192c0-79.529 64.471-144 144-144m0-48C213.965 0 128 85.954 128 192c0 8.832.602 17.623 1.799 26.318L7.029 341.088A24.005 24.005 0 0 0 0 358.059V488c0 13.255 10.745 24 24 24h144c13.255 0 24-10.745 24-24v-24h24c13.255 0 24-10.745 24-24v-20l40.049-40.167C293.106 382.604 306.461 384 320 384c106.035 0 192-85.954 192-192C512 85.965 426.046 0 320 0zm0 144c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"})),c.a.createElement("input",{type:"password",id:"loginPassword","aria-placeholder":"Password",placeholder:"Password",value:f,onChange:function(e){return p(e.target.value)},className:"form__input validate","data-validation":"regex","data-regex":""}),c.a.createElement("div",{className:"form__error"},"error")),c.a.createElement("div",{className:"form__buttonBox"},c.a.createElement("button",{onClick:function(){var e={username:m,password:f};d.a.post("".concat(t.wsUrl,"/system/login"),e).then((function(e){var t=e.data;t.error?l(t.error):(a(t.data),i(m))})).catch((function(e){var t=e.error;console.error(t)}))},className:"form__btn"},"Sign In")))}),b=a(9),f=(a(68),function(e){var t=e.sessionKey,a=e.config,l=e.onLogout,i=Object(n.useState)([]),r=Object(s.a)(i,2),o=r[0],u=r[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),p=f[0],E=f[1];return Object(n.useEffect)((function(){m.a.get("lang")||m.a.set("lang","ru")}),[]),Object(n.useEffect)((function(){d.a.post("".concat(a.wsUrl,"/system/getLanguagesByCompany"),{sessionKey:t}).then((function(e){var t=e.data;t.error?l():u(t.data)}));var e=m.a.get("username");e&&E(e)}),[t,a,l]),c.a.createElement("main",{className:"main"},c.a.createElement(ee,{sessionKey:t,config:a,username:p,onLogout:l}),c.a.createElement("header",{className:"header"}),c.a.createElement("section",{className:"module"},c.a.createElement(b.a,{path:"/module/:module/:param",children:c.a.createElement($,{sessionKey:t,config:a,languages:o})})),c.a.createElement("footer",{className:"footer"}))}),p=a(4),E=a(6),h=a(5),v=function(e){return c.a.createElement("input",Object.assign({className:"form-input input-text"},e))},j=function(e){return c.a.createElement("input",Object.assign({className:"form-input input-text",type:"number"},e))},O=a(20),y=function(e){var t=e.onSearch,a=Object(O.a)(e,["onSearch"]),l=Object(n.useState)(""),i=Object(s.a)(l,2),r=i[0],o=i[1];return c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Object.assign({value:r,className:"form-input input-search",type:"search",onKeyPress:function(e){13===e.which&&t(r)},onChange:function(e){o(e.target.value)}},a)),c.a.createElement(E.a,{onClick:function(){t(r)},className:"box-icon",icon:h.l}))},N=(a(43),function(e){var t=e.sessionKey,a=e.config,l=Object(n.useState)([]),i=Object(s.a)(l,2),r=i[0],o=i[1],m=Object(n.useState)([]),u=Object(s.a)(m,2),g=u[0],b=u[1],f=Object(n.useState)(0),j=Object(s.a)(f,2),O=j[0],N=j[1],k=Object(n.useState)(0),S=Object(s.a)(k,2),w=S[0],I=S[1],D=Object(n.useState)(!1),C=Object(s.a)(D,2),_=C[0],U=C[1],K=Object(n.useState)({}),L=Object(s.a)(K,2),x=L[0],T=L[1],z=Object(n.useState)(""),F=Object(s.a)(z,2),P=F[0],B=F[1];Object(n.useEffect)((function(){N(0)}),[]),Object(n.useEffect)((function(){for(var e=[],t=0;t<w/a.itemLimit;t++)e.push(t);b(e)}),[w,a]),Object(n.useEffect)((function(){d.a.post("".concat(a.wsUrl,"/system/settings/getItemCount"),{sessionKey:t}).then((function(e){var t=e.data;t.data&&I(t.data.itemCount)})),d.a.post("".concat(a.wsUrl,"/system/settings/getItems"),{sessionKey:t,page:O,limit:a.itemLimit}).then((function(e){var t=e.data;t.data&&o(t.data)}))}),[O,a,t]);var q=function(e){var t=Number(e.target.dataset.page);O!==t&&N(t)};return c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"settings__header"},c.a.createElement(y,{placeholder:"\u041f\u043e\u0438\u0441\u043a",onSearch:function(e){d.a.post("".concat(a.wsUrl,"/system/settings/getItemsByText"),{sessionKey:t,text:e}).then((function(e){var t=e.data;t.data&&o(t.data)}))}})),c.a.createElement("table",{className:"table table-hover table-striped settings__table"},c.a.createElement("thead",{className:"thead"},c.a.createElement("tr",null,c.a.createElement("th",{className:"th"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430"),c.a.createElement("th",{className:"th"},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),c.a.createElement("th",{className:"th"},c.a.createElement(E.a,{icon:h.d})))),c.a.createElement("tbody",{className:"tbody"},r.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",{className:"text-nowrap"},e.description),c.a.createElement("td",null,e.body),c.a.createElement("td",null,c.a.createElement(E.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",className:"ico-edit clickable",onClick:function(){return function(e){var t=r.find((function(t){return t.name===e}));T(t),B(t.body),U(!0)}(e.name)},icon:h.j})))})))),c.a.createElement("ul",{className:"settings__pages"},g.map((function(e){return c.a.createElement("li",{className:"settings__page-item",key:e,"data-page":e,onClick:q},e+1)}))),c.a.createElement(te,{show:_,headText:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:function(){d.a.post("".concat(a.wsUrl,"/system/settings/editItemValue"),{sessionKey:t,name:x.name,value:x.body}).then((function(e){var t=e.data,a=r.map((function(e){return e.id===t.data.id&&(e=Object(p.a)({},x)),e}));o(a),U(!1)}))},onDismiss:function(){U(!1)}},c.a.createElement(v,{value:P,onChange:function(e){B(e.target.value),T(Object(p.a)(Object(p.a)({},x),{},{body:e.target.value}))}})))}),k=function(e){var t=e.sessionKey,a=e.config,l=e.languages,i=Object(n.useState)(""),r=Object(s.a)(i,2),o=r[0],u=r[1],g=Object(n.useState)([]),b=Object(s.a)(g,2),f=b[0],p=b[1],j=Object(n.useState)([]),O=Object(s.a)(j,2),N=O[0],k=O[1],S=Object(n.useState)(0),w=Object(s.a)(S,2),I=w[0],D=w[1],C=Object(n.useState)(0),_=Object(s.a)(C,2),U=_[0],K=_[1],L=Object(n.useState)(!1),x=Object(s.a)(L,2),T=x[0],z=x[1],F=Object(n.useState)(""),P=Object(s.a)(F,2),B=P[0],q=P[1],M=Object(n.useState)(""),A=Object(s.a)(M,2),H=A[0],V=A[1],Y=Object(n.useState)(""),R=Object(s.a)(Y,2),J=R[0],G=R[1],X=Object(n.useState)(""),Q=Object(s.a)(X,2),W=Q[0],Z=Q[1];Object(n.useEffect)((function(){D(0),m.a.get("lang")||m.a.set("lang","ru"),u(m.a.get("lang","ru")||"ru")}),[]),Object(n.useEffect)((function(){for(var e=[],t=0;t<U/a.itemLimit;t++)e.push(t);k(e)}),[U,a]),Object(n.useEffect)((function(){d.a.post("".concat(a.wsUrl,"/system/translations/getItemCount"),{sessionKey:t}).then((function(e){var t=e.data;t.data&&K(t.data.itemCount)})),d.a.post("".concat(a.wsUrl,"/system/translations/getItems"),{sessionKey:t,page:I,limit:a.itemLimit}).then((function(e){var t=e.data;t.data&&p(t.data.map((function(e){var t=e.arrTranslations.find((function(e){return e.lang===o}));return e.currentTranslation=t?t.body:"",e})))}))}),[I,o,a,t]);var $=function(e){var t=Number(e.target.dataset.page);I!==t&&D(t)},ee=function(e){var t=e.target.dataset.lang,a=e.target.value;"az"===t&&V(a),"en"===t&&G(a),"ru"===t&&Z(a)};return c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"settings__header"},c.a.createElement(y,{placeholder:"\u041f\u043e\u0438\u0441\u043a",onSearch:function(e){d.a.post("".concat(a.wsUrl,"/system/translations/getItemsByText"),{sessionKey:t,text:e}).then((function(e){var t=e.data;t.data&&p(t.data)}))}})),c.a.createElement("table",{className:"table table-hover table-striped settings__table"},c.a.createElement("thead",{className:"thead"},c.a.createElement("tr",null,c.a.createElement("th",{className:"th"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430"),c.a.createElement("th",{className:"th"},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),c.a.createElement("th",{className:"th"},c.a.createElement(E.a,{icon:h.d})))),c.a.createElement("tbody",{className:"tbody"},f.map((function(e){return c.a.createElement("tr",{key:e.name},c.a.createElement("td",{className:"text-nowrap settings__description"},e.description),c.a.createElement("td",null,e.currentTranslation),c.a.createElement("td",null,c.a.createElement(E.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",className:"ico-edit clickable",onClick:function(){return function(e){q(e);var t=f.find((function(t){return t.name===e}));t.arrTranslations&&(V(t.arrTranslations.find((function(e){return"az"===e.lang})).body),G(t.arrTranslations.find((function(e){return"en"===e.lang})).body),Z(t.arrTranslations.find((function(e){return"ru"===e.lang})).body)),z(!0)}(e.name)},icon:h.j})))})))),c.a.createElement("ul",{className:"settings__pages"},N.map((function(e){return c.a.createElement("li",{className:"settings__page-item",key:e,"data-page":e,onClick:$},e+1)}))),c.a.createElement(te,{show:T,headText:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:function(){z(!T),d.a.post("".concat(a.wsUrl,"/system/translations/editItemValues"),{sessionKey:t,name:B,values:[{lang:"az",body:H},{lang:"en",body:J},{lang:"ru",body:W}]}).then((function(e){var t=e.data;if(t.data){var a=f.map((function(e){if(e.name===t.data.name){var a=(e=t.data).arrTranslations.find((function(e){return e.lang===o}));e.currentTranslation=a?a.body:""}return e}));p(a)}z(!1)}))},onDismiss:function(){z(!1)}},l.map((function(e){return c.a.createElement("div",{key:e.lang},e.name,":",c.a.createElement(v,{"data-lang":e.lang,value:"az"===e.lang?H:"en"===e.lang?J:W,onChange:ee}))}))))},S=a(24),w=a(17),I=a.n(w),D=a(8),C=a.n(D),_=a(11),U=function(e){return c.a.createElement("input",Object.assign({className:"form-input input-date",type:"datetime-local"},e))},K=a(27),L=function(e){var t=e.value,a=Object(O.a)(e,["value"]);return c.a.createElement("textarea",Object.assign({className:"form-input input-textarea",rows:"4",value:t},a))},x=function(e){var t=e.entity,a=e.className,l=e.item,i=e.sessionKey,r=e.siteUrl,o=e.onChangeItem,m=Object(n.useState)(""),u=Object(s.a)(m,2),d=u[0],g=u[1],b=Object(n.useState)(""),f=Object(s.a)(b,2),p=f[0],E=f[1],h=Object(n.useState)(""),j=Object(s.a)(h,2),O=j[0],y=j[1],N=Object(n.useState)(""),k=Object(s.a)(N,2),S=k[0],w=k[1],I=Object(n.useState)(""),D=Object(s.a)(I,2),_=D[0],U=D[1],x=Object(n.useState)(""),T=Object(s.a)(x,2),z=T[0],F=T[1],P=Object(n.useState)(""),B=Object(s.a)(P,2),q=B[0],M=B[1],A=Object(n.useState)(null),H=Object(s.a)(A,2),V=H[0],Y=H[1];Object(n.useEffect)((function(){g(l.link),E(l.urlName),y(l.seoKeywords),w(l.seoDescription),U(l.title),F(l.shortDescription),M(l.body),V&&V.setContent(l.body)}),[l,V]),Object(n.useEffect)((function(){o({lang:l.lang,link:d,urlName:p,seoKeywords:O,seoDescription:S,title:_,shortDescription:z,body:q})}),[d,p,S,O,z,_,q,l,o]);return c.a.createElement("div",{className:C()(a,"entity-item-details"),"data-lang":l.lang},t&&1===t.hasLink&&c.a.createElement("label",{htmlFor:"linkItemDetail".concat(l.lang)},"Link"),t&&1===t.hasLink&&c.a.createElement(v,{id:"linkItemDetail".concat(l.lang),value:d,onChange:function(e){g(e.target.value)}}),t&&1===t.hasSeo&&c.a.createElement("label",{htmlFor:"urlNameItemDetail".concat(l.lang)},"SEO URL"),t&&1===t.hasSeo&&c.a.createElement(v,{id:"urlNameItemDetail".concat(l.lang),value:p,onChange:function(e){E(e.target.value)}}),t&&1===t.hasSeo&&c.a.createElement("label",{htmlFor:"seoKeywordsItemDetail".concat(l.lang)},"SEO Keywords"),t&&1===t.hasSeo&&c.a.createElement(v,{id:"seoKeywordsItemDetail".concat(l.lang),value:O,onChange:function(e){y(e.target.value)}}),t&&1===t.hasSeo&&c.a.createElement("label",{htmlFor:"seoDescriptionItemDetail".concat(l.lang)},"SEO Description"),t&&1===t.hasSeo&&c.a.createElement(v,{id:"seoDescriptionItemDetail".concat(l.lang),value:S,onChange:function(e){w(e.target.value)}}),t&&1===t.hasTitle&&c.a.createElement("label",{htmlFor:"titleItemDetail".concat(l.lang)},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t&&1===t.hasTitle&&c.a.createElement(v,{id:"titleItemDetail".concat(l.lang),value:_,onChange:function(e){U(e.target.value)}}),t&&1===t.hasShortDescription&&c.a.createElement("label",{htmlFor:"shortDescriptionItemDetail".concat(l.lang)},"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t&&1===t.hasShortDescription&&c.a.createElement(L,{id:"shortDescriptionItemDetail".concat(l.lang),value:z,onChange:function(e){F(e.target.value)}}),t&&1===t.hasBody&&c.a.createElement(K.a,{apiKey:"q3ly7woms1dvmjtod4n7ukmyeqfqfoduao3746ibgtocxngx",initialValue:q,init:{setup:function(e){Y(e)},height:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen image table hr charmap nonbreaking pagebreak legacyoutput","insertdatetime media table paste code help wordcount"],toolbar:["undo redo | media | image | bold italic forecolor backcolor | link anchor charmap nonbreaking pagebreak | removeformat","alignleft aligncenter alignright alignjustify | hr fontselect fontsizeselect styleselect | bullist outdent indent |  ","table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol "],images_upload_credentials:!0,image_caption:!0,image_advtab:!0,images_upload_handler:function(e,t,a){var n,c;(n=new XMLHttpRequest).withCredentials=!1,n.open("POST","".concat(r,"/upload/images/uploads")),n.onload=function(){var c;200===n.status?(c=JSON.parse(n.responseText))&&c.data?t("".concat(r,"/assets/images/uploads/").concat(e.filename())):a("Invalid JSON: "+n.responseText):a("HTTP Error: "+n.status)},(c=new FormData).append("file",e.blob(),e.filename()),c.append("objectType","entity_item_secondary"),c.append("objectId","-1"),c.append("sessionKey",i),n.send(c)}},onEditorChange:function(e,t){M(e)}}))},T=function(e){var t=e.entity,a=e.item,l=e.languages,i=e.lang,r=e.sessionKey,o=e.siteUrl,m=e.onEdit,u=Object(n.useState)(""),d=Object(s.a)(u,2),g=d[0],b=d[1],f={};Object(n.useEffect)((function(){b(I()(a?a.showDate:new Date).format("YYYY-MM-DDTHH:mm"))}),[a]);var p=function(e){f[e.lang]=e,m({id:a.id,showDate:g,translations:f})};return c.a.createElement("div",null,t&&1===t.hasDate&&c.a.createElement(U,{type:"datetime-local",value:g,onChange:function(e){b(e.target.value)}}),c.a.createElement("ul",{className:"tab-pills","data-target":"#langTabs"},l.map((function(e){return c.a.createElement("li",{onClick:function(t){!function(e,t){var a=e.target.parentNode;Object(_.a)(a.children).forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active");var n=document.querySelector(e.target.parentNode.dataset.target);Object(_.a)(n.children).forEach((function(e){e.dataset.lang===t?e.classList.add("active"):e.classList.remove("active")}))}(t,e.lang)},className:C()("pill",{active:e.lang===i}),key:e.lang},e.name)}))),c.a.createElement("div",{className:"tabs",id:"langTabs"},a.arrTranslations.map((function(e){return c.a.createElement(x,{className:C()("tab-content",{active:e.lang===i}),key:e.lang,siteUrl:o,entity:t,sessionKey:r,item:e,onChangeItem:p})}))))},z=function(e){var t=e.className,a=e.item,l=e.onChangeItem,i=Object(n.useState)(""),r=Object(s.a)(i,2),o=r[0],m=r[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),g=d[0],b=d[1],f=Object(n.useState)(""),p=Object(s.a)(f,2),E=p[0],h=p[1],j=Object(n.useState)(""),O=Object(s.a)(j,2),y=O[0],N=O[1];return Object(n.useEffect)((function(){N(a.h1Title),m(a.seoKeywords),b(a.seoDescription),h(a.seoTitle)}),[a]),Object(n.useEffect)((function(){l({lang:a.lang,seoKeywords:o,seoDescription:g,seoTitle:E,h1Title:y})}),[g,o,y,E,a,l]),c.a.createElement("div",{className:C()(t,"entity-item-details"),"data-lang":a.lang},c.a.createElement("label",{htmlFor:"seoKeywordsEntityDetail".concat(a.lang)},"SEO Keywords"),c.a.createElement(v,{id:"seoKeywordsEntityDetail".concat(a.lang),value:o,onChange:function(e){m(e.target.value)}}),c.a.createElement("label",{htmlFor:"seoDescriptionEntityDetail".concat(a.lang)},"SEO Description"),c.a.createElement(v,{id:"seoDescriptionEntityDetail".concat(a.lang),value:g,onChange:function(e){b(e.target.value)}}),c.a.createElement("label",{htmlFor:"titleEntityDetail".concat(a.lang)},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),c.a.createElement(v,{id:"titleEntityDetail".concat(a.lang),value:E,onChange:function(e){h(e.target.value)}}),c.a.createElement("label",{htmlFor:"h1TitleEntityDetail".concat(a.lang)},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a H1"),c.a.createElement(v,{id:"h1TitleEntityDetail".concat(a.lang),value:y,onChange:function(e){N(e.target.value)}}))},F=function(e){var t=e.entity,a=e.languages,n=e.lang,l=e.onEdit,i={},r=function(e){i[e.lang]=e,l(i)};return c.a.createElement("div",null,c.a.createElement("ul",{className:"tab-pills","data-target":"#langTabsItem"},a.map((function(e){return c.a.createElement("li",{onClick:function(t){!function(e,t){var a=e.target.parentNode;Object(_.a)(a.children).forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active");var n=document.querySelector(e.target.parentNode.dataset.target);Object(_.a)(n.children).forEach((function(e){e.dataset.lang===t?e.classList.add("active"):e.classList.remove("active")}))}(t,e.lang)},className:C()("pill",{active:e.lang===n}),key:e.lang},e.name)}))),c.a.createElement("div",{className:"tabs",id:"langTabsItem"},t.arrParams.map((function(e){return c.a.createElement(z,{className:C()("tab-content",{active:e.lang===n}),key:e.lang,item:e,onChangeItem:r})}))))},P=(a(76),function(e){var t=e.sessionKey,a=e.config,l=e.languages,i=e.param,r=Object(n.useState)(m.a.get("lang")),o=Object(s.a)(r,1)[0],u=Object(n.useState)(null),g=Object(s.a)(u,2),b=g[0],f=g[1],v=Object(n.useState)([]),j=Object(s.a)(v,2),O=j[0],y=j[1],N=Object(n.useState)([]),k=Object(s.a)(N,2),w=k[0],D=k[1],_=Object(n.useState)(0),U=Object(s.a)(_,2),K=U[0],L=U[1],x=Object(n.useState)(0),z=Object(s.a)(x,2),P=z[0],B=z[1],q=Object(n.useState)(!1),M=Object(s.a)(q,2),A=M[0],H=M[1],V=Object(n.useState)(""),Y=Object(s.a)(V,2),R=Y[0],J=Y[1],G=Object(n.useState)(!1),X=Object(s.a)(G,2),Q=X[0],W=X[1],Z=Object(n.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],ae=$[1],ne=Object(n.useState)(!1),ce=Object(s.a)(ne,2),le=ce[0],ie=ce[1],re=Object(n.useState)(null),se=Object(s.a)(re,2),oe=se[0],me=se[1],ue=Object(n.useState)([]),de=Object(s.a)(ue,2),ge=de[0],be=de[1],fe={showDate:null,translations:null},pe={translations:null};Object(n.useEffect)((function(){for(var e=[],t=0;t<P/a.itemLimit;t++)e.push(t);D(e)}),[P,a]);var Ee=function(e){if(e){var t=e.map((function(e){if(o){var t=e.arrTranslations.find((function(e){return e.lang===o}));e.title=t.title,e.urlName=t.urlName}return e}));y(t)}};Object(n.useEffect)((function(){f(null)}),[i,K]),Object(n.useEffect)((function(){b||d.a.post("".concat(a.wsUrl,"/system/entities/getParams"),{sessionKey:t,entity:i}).then((function(e){var n=e.data;n.data&&(f(n.data),d.a.post("".concat(a.wsUrl,"/system/entities/getItems"),{sessionKey:t,entityId:n.data.id,page:K,limit:a.itemLimit}).then((function(e){var t=e.data;t.data&&Ee(t.data)})),d.a.post("".concat(a.wsUrl,"/system/entities/getItemCount"),{sessionKey:t,entityId:n.data.id}).then((function(e){var t=e.data;t.data&&B(t.data.itemCount)})))}))}));var he=function(e,n){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.a.post("".concat(a.wsUrl,"/system/entities/").concat(e),{sessionKey:t,itemId:n}).then((function(e){var t=e.data;t.data&&(Ee(O.map((function(e){return e.id===t.data.id?t.data:e}))),c&&Ee(O.filter((function(e){return e.id!==n}))))}))},ve=function(e){if(J(0===Number(e.id)?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),0===e.id){e.arrTranslations=[];var t,a=Object(S.a)(l);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.arrTranslations.push({lang:n.lang,body:"",link:"",urlName:"",seoKeywords:"",seoDescription:"",title:"",shortDescription:""})}}catch(c){a.e(c)}finally{a.f()}}me(e),H(!0)},je=function(e){d.a.post("".concat(a.wsUrl,"/system/entities/getItemImages"),{sessionKey:t,itemId:e.id}).then((function(t){var a=t.data;a.data&&(be(a.data),me(e),W(!0))}))},Oe=function(){d.a.post("".concat(a.wsUrl,"/system/entities/saveItem"),Object(p.a)({sessionKey:t},fe)).then((function(e){var t=e.data;if(t.data&&O){var a;if(O.find((function(e){return e.id===t.data.id})))a=O.map((function(e){return e.id===t.data.id?t.data:e}));else{a=[t.data];var n,c=Object(S.a)(O);try{for(c.s();!(n=c.n()).done;){var l=n.value;l.id!==t.data.id&&a.push(l)}}catch(i){c.e(i)}finally{c.f()}}Ee(a),H(!1)}}))},ye=function(e){var t=e.target.parentNode,a=document.getElementById("progressProgress"),n=document.getElementById("progressBar");ae(!0),n.classList.add("in-progress"),a.setAttribute("data-progress","0"),a.style.setProperty("--progress","0"),d.a.request({method:"post",url:t.getAttribute("action"),data:new FormData(t),onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a.setAttribute("data-progress","".concat(t,"%")),a.style.setProperty("--progress","calc(".concat(t,"% - 10px)"))}}).then((function(e){var a=e.data;"entity_main"===t.querySelector('[name="objectType"]').value?f(null):(je(a.data),Ee(O.map((function(e){return e.id===a.data.id?a.data:e}))))})).catch((function(){alert("ERROR: Check File Format and Size")})).finally((function(){ae(!1),n.classList.remove("in-progress")}))},Ne=function(e,n){d.a.post("".concat(a.wsUrl,"/system/deleteImage"),{sessionKey:t,objectType:e,objectId:n}).then((function(e){var t=e.data;t.data&&(je(t.data),Ee(O.map((function(e){return e.id===t.data.id?t.data:e}))))}))},ke=function(e,n,c){d.a.post("".concat(a.wsUrl,"/system/entities/moveImage"),{sessionKey:t,itemId:e,imageId:n,sign:c}).then((function(e){var t=e.data;t.data&&(je(t.data),Ee(O.map((function(e){return e.id===t.data.id?t.data:e}))))}))},Se=function(e){var t=Number(e.target.dataset.page);K!==t&&L(t)};return c.a.createElement("div",{className:"entity"},c.a.createElement("div",{className:"entity__header"},b&&1===b.canCreateItem&&c.a.createElement("button",{className:"btn btn-success",onClick:function(){ve({id:0})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),b&&1===b.hasGlobalSeo&&c.a.createElement("button",{className:"btn btn-secondary ml-3",onClick:function(){ie(!0)}},"SEO \u0414\u0430\u043d\u043d\u044b\u0435")),c.a.createElement("table",{className:"table table-hover table-striped entity__table"},c.a.createElement("thead",{className:"thead"},c.a.createElement("tr",null,b&&"techsupport"!==b.name.substr(0,11)&&c.a.createElement("th",{className:"th"},"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"),c.a.createElement("th",{className:"th"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),c.a.createElement("th",{className:"th"},"\u0414\u0430\u0442\u0430"),b&&Number(b.hasArchive)>0&&c.a.createElement("th",{className:"th"},"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"),c.a.createElement("th",{className:"th"},c.a.createElement(E.a,{icon:h.d})))),c.a.createElement("tbody",{className:"tbody"},O.map((function(e){return c.a.createElement("tr",{key:e.id},b&&"techsupport"!==b.name.substr(0,11)&&c.a.createElement("td",null,e.mainImage&&c.a.createElement("img",{className:"entity__main-image",src:"".concat(a.siteUrl).concat(e.mainImage),alt:""})),c.a.createElement("td",null,e.title),c.a.createElement("td",null,I()(e.showDate).format("DD/MM/YYYY HH:mm")),b&&Number(b.hasArchive)>0&&c.a.createElement("td",{className:"th"},e.isArchive?"\u0410\u0440\u0445\u0438\u0432":"\u041e\u0441\u043d\u043e\u0432\u0430"),c.a.createElement("td",{className:"entity__controls"},c.a.createElement(E.a,{className:"ico-reload entity__control clickable",icon:h.m,title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",onClick:function(){he("getItemById",e.id)}}),c.a.createElement(E.a,{className:"ico-edit entity__control clickable",icon:h.j,title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){ve(e)}}),c.a.createElement(E.a,{className:C()("entity__control","clickable",e.isVisible?"ico-hide":"ico-show"),icon:e.isVisible?h.g:h.f,title:e.isVisible?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",onClick:function(){he("toggleItemVisibility",e.id)}}),"about"!==i&&"toplinks"!==i&&c.a.createElement(E.a,{className:C()("entity__control","clickable","ico-make-important"),icon:h.o,title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){if(window.confirm("\u0423\u0432\u0435\u0440\u0435\u043d\u044b?")){var t=O.filter((function(t){return t.id!==e.id}));Ee(t),he("toggleItemImportance",e.id,!0)}}}),b&&Number(b.hasArchive)>0&&c.a.createElement(E.a,{className:"ico-archive entity__control clickable",icon:h.a,title:"\u0412 \u0430\u0440\u0445\u0438\u0432",onClick:function(){he("toggleItemArchive",e.id)}}),b&&"techsupport"!==b.name.substr(0,11)&&c.a.createElement(E.a,{className:"ico-images entity__control clickable",icon:h.h,title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",onClick:function(){je(e)}}),e.urlName&&c.a.createElement("a",{className:"entity__control",rel:"noopener noreferrer",href:"".concat(a.siteUrl,"/article/").concat(e.id,"-").concat(e.urlName,".html"),target:"_blank"},c.a.createElement(E.a,{className:"ico-link clickable",icon:h.e,title:"\u0421\u0441\u044b\u043b\u043a\u0430"}))))})))),c.a.createElement("ul",{className:"entity__pages"},w.map((function(e){return c.a.createElement("li",{className:"entity__page-item",key:e,"data-page":e,onClick:Se},e+1)}))),c.a.createElement(te,{show:le,headText:"SEO",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:function(){d.a.post("".concat(a.wsUrl,"/system/entities/saveEntity"),{sessionKey:t,entity:i,translations:Object.values(pe.translations)}).then((function(){f(null),ie(!1)}))},onDismiss:function(){ie(!1)}},c.a.createElement("div",{className:"image-edit"},c.a.createElement("div",{className:"main-image"},b&&c.a.createElement("div",{className:"main-image-box"},c.a.createElement("img",{className:"main-image-image",width:100,height:100,src:"".concat(a.siteUrl).concat(b.mainImage),alt:""}),c.a.createElement("div",{className:"main-image-buttons"},c.a.createElement("form",{action:"".concat(a.siteUrl,"/upload/images/").concat(b.name),method:"post",encType:"multipart/form-data"},c.a.createElement("input",{className:"hidden",id:"mainEntityImg",type:"file",name:"file",required:!0,onChange:ye}),c.a.createElement("input",{type:"hidden",name:"objectType",value:"entity_main"}),c.a.createElement("input",{type:"hidden",name:"objectId",value:b.id}),c.a.createElement("input",{type:"hidden",name:"sessionKey",value:t}),c.a.createElement("label",{htmlFor:"mainEntityImg",className:"w-100 btn btn-vertical btn-secondary",onClick:function(){return document.getElementById("mainEntityImg").value=""}},c.a.createElement(E.a,{className:"ico-edit btn-icon",icon:h.j}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))))),b&&c.a.createElement(F,{entity:b,languages:l,lang:o,onEdit:function(e){pe.translations=e}})),c.a.createElement(te,{show:A,headText:R,dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:Oe,onDismiss:function(){H(!1)}},oe&&c.a.createElement(T,{item:oe,languages:l,entity:b,sessionKey:t,siteUrl:m.a.get("siteUrl"),lang:o,onEdit:function(e){fe.itemId=e.id,fe.param=i,fe.showDate=e.showDate,fe.translations=[];for(var t=0,a=Object.keys(e.translations);t<a.length;t++){var n=a[t];fe.translations.push(e.translations[n])}}})),c.a.createElement(te,{show:Q,dialogSize:"modal-sm",headText:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onSuccess:Oe,onDismiss:function(){W(!1)}},c.a.createElement("div",{className:"image-edit"},c.a.createElement("div",{className:"main-image"},c.a.createElement("h3",null,"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),oe&&b&&c.a.createElement("div",{className:"main-image-box"},c.a.createElement("img",{className:"main-image-image",width:100,height:100,src:"".concat(a.siteUrl).concat(oe.mainImage),alt:""}),c.a.createElement("div",{className:"main-image-buttons"},c.a.createElement("button",{className:"w-100 btn btn-vertical btn-danger mb-2",onClick:function(){Ne("entity_item_main",oe.id)}},c.a.createElement(E.a,{className:"ico-delete btn-icon",icon:h.o}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),c.a.createElement("form",{action:"".concat(a.siteUrl,"/upload/images/").concat(b.name),method:"post",encType:"multipart/form-data"},c.a.createElement("input",{className:"hidden",type:"file",id:"mainImg",name:"file",required:!0,onChange:ye}),c.a.createElement("input",{type:"hidden",name:"objectType",value:"entity_item_main"}),c.a.createElement("input",{type:"hidden",name:"objectId",value:oe.id}),c.a.createElement("input",{type:"hidden",name:"sessionKey",value:t}),c.a.createElement("label",{htmlFor:"mainImg",className:"w-100 btn btn-vertical btn-secondary",onClick:function(){return document.getElementById("mainImg").value=""}},c.a.createElement(E.a,{className:"ico-edit btn-icon",icon:h.j}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))))),b&&Number(b.multiimage)>0&&ge&&oe&&c.a.createElement("div",{className:"other-images"},c.a.createElement("h3",{className:"title"},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"),c.a.createElement("div",{className:"other-images-list"},ge.map((function(e){return c.a.createElement("div",{key:e.id,className:"other-images-box"},c.a.createElement("img",{className:"other-images-image",src:"".concat(a.siteUrl).concat(e.imageFile),alt:""}),c.a.createElement("div",{className:"other-images-move"},c.a.createElement("button",{className:"btn btn-round",onClick:function(){ke(oe.id,e.id,-1)}},c.a.createElement(E.a,{icon:h.c})),c.a.createElement("button",{className:"btn btn-round",onClick:function(){ke(oe.id,e.id,1)}},c.a.createElement(E.a,{icon:h.b}))),c.a.createElement("div",{className:"other-images-buttons"},c.a.createElement("button",{className:"w-100 btn btn-vertical btn-danger mb-2",onClick:function(){Ne("entity_item_secondary",e.id)}},c.a.createElement(E.a,{className:"btn-icon",icon:h.o}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),c.a.createElement("button",{className:"w-100 btn btn-vertical btn-secondary mb-2",onClick:function(){var n;n=e.id,d.a.post("".concat(a.wsUrl,"/system/entities/toggleImageVisibility"),{sessionKey:t,imageId:n}).then((function(e){var t=e.data;t.data&&(je(t.data),Ee(O.map((function(e){return e.id===t.data.id?t.data:e}))))}))}},c.a.createElement(E.a,{className:"btn-icon",icon:e.isVisible?h.f:h.g})," ",e.isVisible?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c")))}))),c.a.createElement("form",{action:"".concat(a.siteUrl,"/upload/images/").concat(b.name),method:"post",encType:"multipart/form-data"},c.a.createElement("input",{className:"hidden",type:"file",id:"secondaryImg",name:"file",required:!0,onChange:ye}),c.a.createElement("input",{type:"hidden",name:"objectType",value:"entity_item_secondary"}),c.a.createElement("input",{type:"hidden",name:"objectId",value:oe.id}),c.a.createElement("input",{type:"hidden",name:"sessionKey",value:t}),c.a.createElement("label",{htmlFor:"secondaryImg",className:"btn btn-primary",onClick:function(){return document.getElementById("secondaryImg").value=""}},c.a.createElement(E.a,{className:"btn-icon",icon:h.k}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))),c.a.createElement(te,{show:ee,dialogSize:"modal-sm",noHeader:!0,noFooter:!0,noMaxHeight:!0,onDismiss:function(){return!1}},c.a.createElement("div",{className:"progress",id:"progressProgress","data-progress":"0%"},c.a.createElement("div",{className:"bar",id:"progressBar"}))))}),B=a(21),q=a.n(B),M=a(26),A=function(e,t){return e.map((function(e){e.name=e.translations.find((function(e){return e.lang===t})).name;var a,n=Object(S.a)(e.translations);try{for(n.s();!(a=n.n()).done;){var c=a.value;e[c.lang]=c.name}}catch(l){n.e(l)}finally{n.f()}return e}))},H=function(e){var t=e.sessionKey,a=e.config,l=(e.languages,e.param,Object(n.useState)("")),i=Object(s.a)(l,2),r=i[0],o=i[1],u=Object(n.useState)([]),g=Object(s.a)(u,2),b=g[0],f=g[1],O=Object(n.useState)({}),y=Object(s.a)(O,2),N=y[0],k=y[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),I=w[0],D=w[1],C=Object(n.useState)(0),U=Object(s.a)(C,2),K=U[0],L=U[1],x=Object(n.useState)(""),T=Object(s.a)(x,2),z=T[0],F=T[1],P=Object(n.useState)(""),B=Object(s.a)(P,2),H=B[0],V=B[1],Y=Object(n.useState)(""),R=Object(s.a)(Y,2),J=R[0],G=R[1];Object(n.useEffect)((function(){m.a.get("lang")||m.a.set("lang","ru"),o(m.a.get("lang","ru")||"ru")}),[]),Object(n.useEffect)((function(){d.a.get("".concat(a.wsUrl,"/api/opetObjects/")).then(function(){var e=Object(M.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,r&&a.data&&a.data.length>0&&f(A(a.data,r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}),[r,a,t]);var X=function(e){var t=e.target.dataset.lang,a=e.target.value;"az"===t&&F(a),"en"===t&&V(a),"ru"===t&&G(a)},Q=function(e){e&&e.id&&e.translations?(L(e.menuOrder),F(e.translations.find((function(e){return"az"===e.lang})).name),V(e.translations.find((function(e){return"en"===e.lang})).name),G(e.translations.find((function(e){return"ru"===e.lang})).name)):(L(0),F(""),V(""),G("")),k(e),D(!0)};return c.a.createElement("div",{className:"opet-object"},c.a.createElement("div",{className:"opet-object"},c.a.createElement("button",{className:"btn btn-success",onClick:function(){Q({id:0})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),c.a.createElement("table",{className:"table table-hover table-striped opet-object__table"},c.a.createElement("thead",{className:"thead"},c.a.createElement("tr",null,c.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),c.a.createElement("th",null,"\u0418\u043d\u0434\u0435\u043a\u0441"),c.a.createElement("th",{className:"th"},c.a.createElement(E.a,{icon:h.d})))),c.a.createElement("tbody",{className:"tbody"},b.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",{className:"text-nowrap opet-object__name"},e.name),c.a.createElement("td",null,e.menuOrder),c.a.createElement("td",null,c.a.createElement(E.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",className:"ico-edit clickable",icon:h.j,onClick:function(){Q(e)}}),c.a.createElement(E.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",className:"ml-2 ico-delete clickable",icon:h.o,onClick:function(){var n;n=e.id,window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?")&&d.a.delete("".concat(a.wsUrl,"/api/opetObjects/").concat(n,"?sessionKey=").concat(t)).then((function(e){e.data,f(A(b.filter((function(e){return n!==e.id})),r))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}})))})))),c.a.createElement(te,{show:I,headText:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:function(){var e={id:N.id,menuOrder:K,details:[{lang:"az",name:z},{lang:"en",name:H},{lang:"ru",name:J}]};0===e.id?d.a.post("".concat(a.wsUrl,"/api/opetObjects/"),Object(p.a)(Object(p.a)({},e),{},{sessionKey:t})).then((function(e){var t=e.data;f(A([].concat(Object(_.a)(b),[t.data]),r)),D(!1)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")})):d.a.put("".concat(a.wsUrl,"/api/opetObjects/").concat(e.id),Object(p.a)(Object(p.a)({},e),{},{sessionKey:t})).then((function(e){var t=e.data;f(A(b.map((function(e){return e.id===t.data.id?t.data:e})),r)),D(!1)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))},onDismiss:function(){D(!1)}},c.a.createElement("div",null,"\u0418\u043d\u0434\u0435\u043a\u0441: ",c.a.createElement(j,{value:K,onChange:function(e){L(e.target.value)}})),c.a.createElement("div",null,"Az: ",c.a.createElement(v,{"data-lang":"az",value:z,onChange:X})),c.a.createElement("div",null,"En: ",c.a.createElement(v,{"data-lang":"en",value:H,onChange:X})),c.a.createElement("div",null,"Ru: ",c.a.createElement(v,{"data-lang":"ru",value:J,onChange:X}))))},V=function(e){var t=e.options,a=Object(O.a)(e,["options"]);return c.a.createElement("select",Object.assign({className:"form-input input-text"},a),t.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)})))},Y=function(e,t){return e.map((function(e){var a=(e.translations?e.translations.find((function(e){return e.lang===t})):e).name,n=(e.object?e.object.translations.find((function(e){return e.lang===t})):{name:"-"}).name;return Object(p.a)(Object(p.a)({},e),{},{root:e.name,name:a,objectName:n})}))},R=function(e){var t=e.sessionKey,a=e.config,l=(e.languages,e.param),i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],g=o[1],b=Object(n.useState)([]),f=Object(s.a)(b,2),O=f[0],y=f[1],N=Object(n.useState)({}),k=Object(s.a)(N,2),S=k[0],w=k[1],I=Object(n.useState)(!1),D=Object(s.a)(I,2),C=D[0],U=D[1],K=Object(n.useState)([]),x=Object(s.a)(K,2),T=x[0],z=x[1],F=Object(n.useState)(0),P=Object(s.a)(F,2),B=P[0],q=P[1],M=Object(n.useState)(""),A=Object(s.a)(M,2),H=A[0],R=A[1],J=Object(n.useState)(""),G=Object(s.a)(J,2),X=G[0],Q=G[1],W=Object(n.useState)(0),Z=Object(s.a)(W,2),$=Z[0],ee=Z[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),ce=ne[0],le=ne[1],ie=Object(n.useState)(""),re=Object(s.a)(ie,2),se=re[0],oe=re[1],me=Object(n.useState)(""),ue=Object(s.a)(me,2),de=ue[0],ge=ue[1];Object(n.useEffect)((function(){m.a.get("lang")||m.a.set("lang","ru"),g(m.a.get("lang","ru")||"ru")}),[]),Object(n.useEffect)((function(){var e="".concat(a.wsUrl,"footer"===l?"/api/categories/footerCategories":"/api/categories/");d.a.get(e).then((function(e){var t=e.data;u&&t.data&&t.data.length>0&&y(Y(t.data,u))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")})),"footer"===l?z([{id:0,name:"-",translations:[{lang:u,name:"-"}]}]):d.a.get("".concat(a.wsUrl,"/api/opetObjects/")).then((function(e){var t=e.data;u&&t.data&&t.data.length>0&&z(t.data.map((function(e){var t=e.translations.find((function(e){return e.lang===u})).name;return Object(p.a)(Object(p.a)({},e),{},{name:t})})))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}),[l,u,a,t]);var be=function(e){e&&e.id&&e.translations?(ee(e.menuOrder),le(e.translations.find((function(e){return"az"===e.lang})).name),oe(e.translations.find((function(e){return"en"===e.lang})).name),ge(e.translations.find((function(e){return"ru"===e.lang})).name)):(ee(0),le(""),oe(""),ge("")),R(e.icon?e.icon:""),Q(e.svg?e.svg:""),q(e.objectId?e.objectId:0),w(e),U(!0)},fe=function(e){var t=e.target.dataset.lang,a=e.target.value;"az"===t&&le(a),"en"===t&&oe(a),"ru"===t&&ge(a)};return c.a.createElement("div",{className:"category"},c.a.createElement("div",{className:"category"},c.a.createElement("button",{className:"btn btn-success",onClick:function(){be({id:0})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),c.a.createElement("table",{className:"table table-hover table-striped category__table"},c.a.createElement("thead",{className:"thead"},c.a.createElement("tr",null,"footer"!==l&&c.a.createElement("th",null,"\u041e\u0431\u044a\u0435\u043a\u0442"),c.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),"footer"===l&&c.a.createElement("th",null,"\u0418\u043d\u0434\u0435\u043a\u0441"),"footer"!==l&&c.a.createElement("th",null,"\u041a\u043b\u0430\u0441\u0441 \u0418\u043a\u043e\u043d\u043a\u0438"),"footer"!==l&&c.a.createElement("th",null,"SVG"),c.a.createElement("th",{className:"th"},c.a.createElement(E.a,{icon:h.d})))),c.a.createElement("tbody",{className:"tbody"},O.map((function(e){return c.a.createElement("tr",{key:e.id},"footer"!==l&&c.a.createElement("td",null,e.objectName),c.a.createElement("td",null,e.name),"footer"===l&&c.a.createElement("td",null,e.menuOrder),"footer"!==l&&c.a.createElement("td",null,e.icon),"footer"!==l&&c.a.createElement("td",{dangerouslySetInnerHTML:{__html:e.svg}}),c.a.createElement("td",null,c.a.createElement(E.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",className:"ico-edit clickable",icon:h.j,onClick:function(){be(e)}}),"footer"===l&&c.a.createElement(r.b,{to:"/module/entity/".concat(e.root),className:"link"},c.a.createElement(E.a,{title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c",className:"ml-2 ico-link clickable",icon:h.i})),c.a.createElement(E.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",className:"ml-2 ico-delete clickable",icon:h.o,onClick:function(){var n;n=e.id,window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?")&&d.a.delete("".concat(a.wsUrl,"/api/categories/").concat(n,"?sessionKey=").concat(t)).then((function(e){e.data,y(Y(O.filter((function(e){return n!==e.id})),u))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}})))})))),c.a.createElement(te,{show:C,headText:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:function(){var e={id:S.id,objectId:B,icon:H,svg:X,menuOrder:$,translations:[{lang:"az",name:ce},{lang:"en",name:se},{lang:"ru",name:de}]};0===e.id?d.a.post("".concat(a.wsUrl,"/api/categories/"),Object(p.a)(Object(p.a)({},e),{},{sessionKey:t})).then((function(e){var t=e.data;y(Y([].concat(Object(_.a)(O),[t.data]),u)),U(!1)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")})):d.a.put("".concat(a.wsUrl,"/api/categories/").concat(e.id),Object(p.a)(Object(p.a)({},e),{},{sessionKey:t})).then((function(e){var t=e.data;y(Y(O.map((function(e){return e.id===t.data.id?t.data:e})),u)),U(!1)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))},onDismiss:function(){U(!1)}},"footer"!==l&&c.a.createElement("div",null,"Object: ",c.a.createElement(V,{options:T,value:B,onChange:function(e){q(e.target.value)}})),"footer"!==l&&c.a.createElement("div",null,"Icon: ",c.a.createElement(v,{value:H,onChange:function(e){R(e.target.value)}})),"footer"!==l&&c.a.createElement("div",null,"SVG: ",c.a.createElement(L,{value:X,onChange:function(e){Q(e.target.value)}})),c.a.createElement("div",null,"\u0418\u043d\u0434\u0435\u043a\u0441: ",c.a.createElement(j,{value:$,onChange:function(e){ee(e.target.value)}})),c.a.createElement("div",null,"Az: ",c.a.createElement(v,{"data-lang":"az",value:ce,onChange:fe})),c.a.createElement("div",null,"En: ",c.a.createElement(v,{"data-lang":"en",value:se,onChange:fe})),c.a.createElement("div",null,"Ru: ",c.a.createElement(v,{"data-lang":"ru",value:de,onChange:fe}))))},J=(a(78),function(e){var t=e.params,a=e.siteUrl,l=e.onChangeProductSize,i=e.onUploadProgress,r=e.onDeleteSize,o=Object(n.useState)(""),m=Object(s.a)(o,2),u=m[0],g=m[1],b=Object(n.useState)(0),f=Object(s.a)(b,2),O=f[0],y=f[1],N=Object(n.useState)(""),k=Object(s.a)(N,2),S=k[0],w=k[1];Object(n.useEffect)((function(){g(t.size),y(t.price),w(t.picture)}),[t]),Object(n.useEffect)((function(){l({id:t.id,productId:t.productId,size:u,price:O,picture:S})}),[u,O,S,t,l]);return c.a.createElement("li",{className:"product-sizes__item"},c.a.createElement(E.a,{className:"ico-delete btn-icon",icon:h.n,onClick:function(){r(t)}}),c.a.createElement("div",{className:"product-sizes__image-box"},c.a.createElement("img",{className:"product-sizes__image",src:"".concat(a+S),alt:""})),c.a.createElement("form",{action:"".concat(a,"/upload/images"),method:"post",encType:"multipart/form-data"},c.a.createElement("input",{className:"hidden",type:"file",id:"sizeImage".concat(t.id),name:"file",required:!0,onChange:function(e){var t=e.target.parentNode;i({progress:0,stage:"start"}),d.a.request({method:"post",url:t.getAttribute("action"),data:new FormData(t),onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);i({progress:t,stage:"progress"})}}).then((function(e){var t=e.data;i(Object(p.a)(Object(p.a)({},t.data),{},{progress:100,stage:"finish"})),w(t.data.imageFile)})).catch((function(e){console.log(e),alert("ERROR: Check File Format and Size")}))}}),c.a.createElement("input",{type:"hidden",name:"id",value:t.id}),c.a.createElement("label",{htmlFor:"sizeImage".concat(t.id),className:"w-100 btn btn-vertical btn-secondary",onClick:function(e){return document.getElementById("sizeImage".concat(t.id)).value=""}},c.a.createElement(E.a,{className:"ico-edit btn-icon",icon:h.j}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443")),"\u0420\u0430\u0437\u043c\u0435\u0440: ",c.a.createElement(v,{value:u,onChange:function(e){g(e.target.value)}}),"\u0426\u0435\u043d\u0430: ",c.a.createElement(j,{value:O,onChange:function(e){y(e.target.value)}}))}),G=function(e){var t=e.className,a=e.item,l=(e.sessionKey,e.siteUrl,e.onChangeItem),i=Object(n.useState)(""),r=Object(s.a)(i,2),o=r[0],m=r[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),g=d[0],b=d[1],f=Object(n.useState)(""),p=Object(s.a)(f,2),E=p[0],h=p[1],j=Object(n.useState)(""),O=Object(s.a)(j,2),y=O[0],N=O[1],k=Object(n.useState)(""),S=Object(s.a)(k,2),w=S[0],I=S[1],D=Object(n.useState)(null),_=Object(s.a)(D,2),U=_[0],L=_[1],x=Object(n.useState)(""),T=Object(s.a)(x,2),z=T[0],F=T[1],P=Object(n.useState)(""),B=Object(s.a)(P,2),q=B[0],M=B[1],A=Object(n.useState)(""),H=Object(s.a)(A,2),V=H[0],Y=H[1],R=Object(n.useState)(""),J=Object(s.a)(R,2),G=J[0],X=J[1],Q=Object(n.useState)(""),W=Object(s.a)(Q,2),Z=W[0],$=W[1],ee=Object(n.useState)(""),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),le=Object(s.a)(ce,2),ie=le[0],re=le[1],se=Object(n.useState)(""),oe=Object(s.a)(se,2),me=oe[0],ue=oe[1],de=Object(n.useState)(""),ge=Object(s.a)(de,2),be=ge[0],fe=ge[1],pe=Object(n.useState)(""),Ee=Object(s.a)(pe,2),he=Ee[0],ve=Ee[1],je=Object(n.useState)(""),Oe=Object(s.a)(je,2),ye=Oe[0],Ne=Oe[1],ke=Object(n.useState)(""),Se=Object(s.a)(ke,2),we=Se[0],Ie=Se[1];Object(n.useEffect)((function(){m(a.urlName?a.urlName:""),N(a.description?a.description:""),I(a.name?a.name:""),h(a.seoDescription?a.seoDescription:""),b(a.seoKeywords?a.seoKeywords:""),U&&U.setContent(a.description?a.description:""),a.productDetailLinks&&a.productDetailLinks[0]?(M(a.productDetailLinks[0].name?a.productDetailLinks[0].name:""),F(a.productDetailLinks[0].icon?a.productDetailLinks[0].icon:""),Y(a.productDetailLinks[0].url?a.productDetailLinks[0].url:""),X(a.productDetailLinks[0].svg?a.productDetailLinks[0].svg:"")):(M(""),F(""),Y(""),X("")),a.productDetailLinks&&a.productDetailLinks[1]?(ne(a.productDetailLinks[1].name?a.productDetailLinks[1].name:""),$(a.productDetailLinks[1].icon?a.productDetailLinks[1].icon:""),re(a.productDetailLinks[1].url?a.productDetailLinks[1].url:""),ue(a.productDetailLinks[1].svg?a.productDetailLinks[1].svg:"")):(ne(""),$(""),re(""),ue("")),a.productDetailLinks&&a.productDetailLinks[2]?(ve(a.productDetailLinks[2].name?a.productDetailLinks[2].name:""),fe(a.productDetailLinks[2].icon?a.productDetailLinks[2].icon:""),Ne(a.productDetailLinks[2].url?a.productDetailLinks[2].url:""),Ie(a.productDetailLinks[2].svg?a.productDetailLinks[2].svg:"")):(ve(""),fe(""),Ne(""),Ie(""))}),[a,U]),Object(n.useEffect)((function(){l({lang:a.lang,urlName:o,seoKeywords:g,seoDescription:E,description:y,name:w,link1Icon:z,link1Name:q,link1Url:V,link1Svg:G,link2Icon:Z,link2Name:ae,link2Url:ie,link2Svg:me,link3Icon:be,link3Name:he,link3Url:ye,link3Svg:we})}),[a,l,o,g,E,y,w,z,q,V,G,Z,ae,ie,me,be,he,ye,we]);return c.a.createElement("div",{className:C()(t,"entity-item-details"),"data-lang":a.lang},c.a.createElement("label",{htmlFor:"urlNameItemDetail".concat(a.lang)},"Url Name *"),c.a.createElement(v,{required:!0,id:"urlNameItemDetail".concat(a.lang),value:o,onChange:function(e){m(e.target.value)}}),c.a.createElement("label",{htmlFor:"nameItemDetail".concat(a.lang)},"Name *"),c.a.createElement(v,{required:!0,id:"nameItemDetail".concat(a.lang),value:w,onChange:function(e){I(e.target.value)}}),c.a.createElement("label",{htmlFor:"seoDescriptionItemDetail".concat(a.lang)},"Seo Description"),c.a.createElement(v,{id:"seoDescriptionItemDetail".concat(a.lang),value:E,onChange:function(e){h(e.target.value)}}),c.a.createElement("label",{htmlFor:"seoKeywordsItemDetail".concat(a.lang)},"Seo Keywords"),c.a.createElement(v,{id:"seoKeywordsItemDetail".concat(a.lang),value:g,onChange:function(e){b(e.target.value)}}),c.a.createElement(K.a,{apiKey:"q3ly7woms1dvmjtod4n7ukmyeqfqfoduao3746ibgtocxngx",initialValue:y,init:{setup:function(e){L(e)},height:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen image table hr charmap nonbreaking pagebreak legacyoutput","insertdatetime media table paste code help wordcount"],toolbar:["undo redo | media | image | bold italic forecolor backcolor | link anchor charmap nonbreaking pagebreak | removeformat","alignleft aligncenter alignright alignjustify | hr fontselect fontsizeselect styleselect | bullist outdent indent |  ","table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol "]},onEditorChange:function(e,t){N(e)}}),c.a.createElement("hr",{className:"mt-2 mb-2"}),c.a.createElement("label",{htmlFor:"link1NameItemDetail".concat(a.lang)},"Link 1 Name"),c.a.createElement(v,{id:"link1NameItemDetail".concat(a.lang),value:q,onChange:function(e){M(e.target.value)}}),c.a.createElement("label",{htmlFor:"link1IconItemDetail".concat(a.lang)},"Link 1 Icon"),c.a.createElement(v,{id:"link1IconItemDetail".concat(a.lang),value:z,onChange:function(e){F(e.target.value)}}),c.a.createElement("label",{htmlFor:"link1UrlItemDetail".concat(a.lang)},"Link 1 Url"),c.a.createElement(v,{id:"link1UrlItemDetail".concat(a.lang),value:V,onChange:function(e){Y(e.target.value)}}),c.a.createElement("label",{htmlFor:"link1SvgItemDetail".concat(a.lang)},"Link 1 Svg"),c.a.createElement(v,{id:"link1SvgItemDetail".concat(a.lang),value:G,onChange:function(e){X(e.target.value)}}),c.a.createElement("hr",{className:"mt-2 mb-2"}),c.a.createElement("label",{htmlFor:"link2NameItemDetail".concat(a.lang)},"Link 2 Name"),c.a.createElement(v,{id:"link2NameItemDetail".concat(a.lang),value:ae,onChange:function(e){ne(e.target.value)}}),c.a.createElement("label",{htmlFor:"link2IconItemDetail".concat(a.lang)},"Link 2 Icon"),c.a.createElement(v,{id:"link2IconItemDetail".concat(a.lang),value:Z,onChange:function(e){$(e.target.value)}}),c.a.createElement("label",{htmlFor:"link2UrlItemDetail".concat(a.lang)},"Link 2 Url"),c.a.createElement(v,{id:"link2UrlItemDetail".concat(a.lang),value:ie,onChange:function(e){re(e.target.value)}}),c.a.createElement("label",{htmlFor:"link2SvgItemDetail".concat(a.lang)},"Link 2 Svg"),c.a.createElement(v,{id:"link2SvgItemDetail".concat(a.lang),value:me,onChange:function(e){ue(e.target.value)}}),c.a.createElement("hr",{className:"mt-2 mb-2"}),c.a.createElement("label",{htmlFor:"link3NameItemDetail".concat(a.lang)},"Link 3 Name"),c.a.createElement(v,{id:"link3NameItemDetail".concat(a.lang),value:he,onChange:function(e){ve(e.target.value)}}),c.a.createElement("label",{htmlFor:"link3IconItemDetail".concat(a.lang)},"Link 3 Icon"),c.a.createElement(v,{id:"link3IconItemDetail".concat(a.lang),value:be,onChange:function(e){fe(e.target.value)}}),c.a.createElement("label",{htmlFor:"link3UrlItemDetail".concat(a.lang)},"Link 3 Url"),c.a.createElement(v,{id:"link3UrlItemDetail".concat(a.lang),value:ye,onChange:function(e){Ne(e.target.value)}}),c.a.createElement("label",{htmlFor:"link3SvgItemDetail".concat(a.lang)},"Link 3 Svg"),c.a.createElement(v,{id:"link3SvgItemDetail".concat(a.lang),value:we,onChange:function(e){Ie(e.target.value)}}))},X=function(e){var t=e.product,a=(e.categoryId,e.languages),l=e.lang,i=e.sessionKey,r=e.siteUrl,o=e.onAddSize,m=e.onChangeSize,u=e.onChangeDate,d=e.onDeleteSize,g=e.onChangeTranslation,b=Object(n.useState)(""),f=Object(s.a)(b,2),p=f[0],E=f[1],h=Object(n.useState)(!1),v=Object(s.a)(h,2),j=v[0],O=v[1];Object(n.useEffect)((function(){E(I()(t?t.showDate:new Date).format("YYYY-MM-DDTHH:mm"))}),[t]);var y=function(e){m(e)},N=function(e){var t=e.progress,a=e.stage,n=document.getElementById("sizeProgressProgress"),c=document.getElementById("sizeProgressBar");"finish"!==a?(O(!0),c.classList.add("in-progress")):(O(!1),c.classList.remove("in-progress")),n.setAttribute("data-progress","".concat(t,"%")),n.style.setProperty("--progress","calc(".concat(t,"% - 10px)"))},k=function(e){var t=[];(e.link1Name||e.link1Icon||e.link1Svg||e.link1Url)&&t.push({name:e.link1Name,icon:e.link1Icon,svg:e.link1Svg,url:e.link1Url}),(e.link2Name||e.link2Icon||e.link2Svg||e.link2Url)&&t.push({name:e.link2Name,icon:e.link2Icon,svg:e.link2Svg,url:e.link2Url}),(e.link3Name||e.link3Icon||e.link3Svg||e.link3Url)&&t.push({name:e.link3Name,icon:e.link3Icon,svg:e.link3Svg,url:e.link3Url}),g({lang:e.lang,description:e.description,name:e.name,urlName:e.urlName,seoDescription:e.seoDescription,seoKeywords:e.seoKeywords,links:t})};return c.a.createElement("div",null,c.a.createElement(U,{type:"datetime-local",value:p,onChange:function(e){E(e.target.value),u(e.target.value)}}),t.id>0&&c.a.createElement("div",null,"\u0420\u0430\u0437\u043c\u0435\u0440\u044b:",c.a.createElement("ul",{className:"product-sizes"},t.productSizes&&t.productSizes.length>0&&t.productSizes.map((function(e){return c.a.createElement(J,{key:e.id,params:e,siteUrl:r,onDeleteSize:d,onChangeProductSize:y,onUploadProgress:N})}))),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){o({productId:t.id,size:"-",price:0,picture:""})}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440"),c.a.createElement("hr",{className:"mt-2 mb-2"})),"\u041f\u0435\u0440\u0435\u0432\u043e\u0434\u044b:",c.a.createElement("div",{className:"translations"},c.a.createElement("ul",{className:"tab-pills","data-target":"#langTabs"},a.map((function(e){return c.a.createElement("li",{onClick:function(t){!function(e,t){var a=e.target.parentNode;Object(_.a)(a.children).forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active");var n=document.querySelector(e.target.parentNode.dataset.target);Object(_.a)(n.children).forEach((function(e){e.dataset.lang===t?e.classList.add("active"):e.classList.remove("active")}))}(t,e.lang)},className:C()("pill",{active:e.lang===l}),key:e.lang},e.name)}))),c.a.createElement("div",{className:"tabs",id:"langTabs"},t.translations.map((function(e){return c.a.createElement(G,{className:C()("tab-content",{active:e.lang===l}),key:e.lang,siteUrl:r,sessionKey:i,item:e,onChangeItem:k})})))),c.a.createElement(te,{show:j,dialogSize:"modal-sm",noHeader:!0,noFooter:!0,noMaxHeight:!0,onDismiss:function(){return!1}},c.a.createElement("div",{className:"progress",id:"sizeProgressProgress","data-progress":"0%"},c.a.createElement("div",{className:"bar",id:"sizeProgressBar"}))))},Q=function(e,t){return e.map((function(e){try{var a=e.translations.find((function(e){return e.lang===t})),n=a.name,c=a.urlName;return Object(p.a)(Object(p.a)({},e),{},{name:n,urlName:c})}catch(l){return e}}))},W=function(e){var t=e.sessionKey,a=e.config,l=e.languages,i=(e.param,Object(n.useState)("")),r=Object(s.a)(i,2),o=r[0],u=r[1],g=Object(n.useState)([]),b=Object(s.a)(g,2),f=b[0],v=b[1],j=Object(n.useState)(null),O=Object(s.a)(j,2),y=O[0],N=O[1],k=Object(n.useState)([]),S=Object(s.a)(k,2),w=S[0],D=S[1],U=Object(n.useState)([]),K=Object(s.a)(U,2),L=K[0],x=K[1],T=Object(n.useState)([]),z=Object(s.a)(T,2),F=z[0],P=z[1],B=Object(n.useState)(null),A=Object(s.a)(B,2),H=A[0],V=A[1],Y=Object(n.useState)(null),R=Object(s.a)(Y,2),J=R[0],G=R[1],W=Object(n.useState)(!1),Z=Object(s.a)(W,2),$=Z[0],ee=Z[1],ae=Object(n.useState)(!1),ne=Object(s.a)(ae,2),ce=ne[0],le=ne[1],ie=Object(n.useState)(!1),re=Object(s.a)(ie,2),se=re[0],oe=re[1],me={showDate:null,translations:null,sizes:null};Object(n.useEffect)((function(){m.a.get("lang")||m.a.set("lang","ru"),u(m.a.get("lang","ru")||"ru")}),[]),Object(n.useEffect)((function(){d.a.get("".concat(a.wsUrl,"/api/opetObjects/")).then((function(e){var t=e.data;o&&t.data&&t.data.length>0&&D(t.data.map((function(e){var t=e.translations.find((function(e){return e.lang===o})).name;return Object(p.a)(Object(p.a)({},e),{},{name:t})})))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")})),d.a.get("".concat(a.wsUrl,"/api/categories/")).then((function(e){var t=e.data;o&&t.data&&t.data.length>0&&P(t.data.map((function(e){var t=e.translations.find((function(e){return e.lang===o})).name;return Object(p.a)(Object(p.a)({},e),{},{name:t})})))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}),[o,a,t]);var ue=function(e){d.a.post("".concat(a.wsUrl,"/system/entities/getItemImages"),{sessionKey:t,itemId:e.id}).then((function(t){t.data.data&&(N(e),ee(!0))}))},de=function(e){v([]),G(e),d.a.get("".concat(a.wsUrl,"/api/products/?categoryId=").concat(e)).then((function(e){var t=e.data;o&&t.data&&t.data.length>0&&v(Q(t.data,o))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))},ge=function(e){e.translations||(e.translations=l.map((function(e){return{lang:e.lang}}))),N(e),me.showDate=e.showDate,me.sizes=e.productSizes,oe(!0)},be=function(){var e=Object(M.a)(q.a.mark((function e(){var n,c,l,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=!1,c=0,l=Object(_.a)(document.querySelectorAll(".input-text[required]"));c<l.length;c++)i=l[c],n=n||""===i.value.trim();if(!n){e.next=4;break}return e.abrupt("return",alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043e\u0434\u043d\u0430 \u0438\u0437 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430"));case 4:if(me.showDate||(me.showDate=y.showDate?y.showDate:new Date),!(y.id>0)){e.next=10;break}return e.next=8,d.a.put("".concat(a.wsUrl,"/api/products/").concat(y.id),Object(p.a)(Object(p.a)({},me),{},{sessionKey:t})).then((function(e){e.data;de(J),oe(!1)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}));case 8:e.next=12;break;case 10:return e.next=12,d.a.post("".concat(a.wsUrl,"/api/products"),Object(p.a)(Object(p.a)({},me),{},{sessionKey:t,categoryId:J})).then((function(e){e.data;de(J),oe(!1)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"products"},c.a.createElement("ul",{className:"objects-list"},w.map((function(e){return c.a.createElement("li",{className:C()("m-1 btn btn-primary objects-list__item",{active:e.id===H}),onClick:function(){var t;t=e.id,x(F.filter((function(e){return e.objectId===t}))),V(t),G(null),v(null)},key:e.id},e.name)}))),c.a.createElement("hr",{className:"mt-2 mb-2"}),c.a.createElement("ul",{className:"categories-list"},H&&L.map((function(e){return c.a.createElement("li",{className:C()("m-1 btn btn-secondary categories-list__item",{active:e.id===J}),onClick:function(){de(e.id)},key:e.id},e.name)}))),c.a.createElement("hr",{className:"mt-2 mb-2"}),c.a.createElement("div",{className:"category"},J&&c.a.createElement("button",{className:"btn btn-success",onClick:function(){ge({id:0})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),f&&f.length>0&&c.a.createElement("table",{className:"table table-hover table-striped category__table"},c.a.createElement("thead",{className:"thead"},c.a.createElement("tr",null,c.a.createElement("th",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"),c.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),c.a.createElement("th",null,"\u0414\u0430\u0442\u0430"),c.a.createElement("th",{className:"th"},c.a.createElement(E.a,{icon:h.d})))),c.a.createElement("tbody",{className:"tbody"},f.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,c.a.createElement("img",{className:"product-image",src:"".concat(a.siteUrl+e.picture),alt:""})),c.a.createElement("td",null,e.name),c.a.createElement("td",null,I()(e.showDate).format("DD/MM/YYYY HH:mm")),c.a.createElement("td",null,c.a.createElement(E.a,{className:"ico-edit entity__control clickable",icon:h.j,title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){ge(e)}}),c.a.createElement(E.a,{className:"ico-images entity__control clickable",icon:h.h,title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",onClick:function(){ue(e)}}),c.a.createElement(E.a,{className:C()("entity__control","clickable",e.isVisible?"ico-hide":"ico-show"),icon:e.isVisible?h.g:h.f,title:e.isVisible?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",onClick:function(){var n,c;n="toggleItemVisibility",c=e.id,d.a.post("".concat(a.wsUrl,"/system/entities/").concat(n),{sessionKey:t,itemId:c}).then((function(e){var t=e.data;t.data&&v(Q(f.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{isVisible:t.data.isVisible}):e}))))}))}}),c.a.createElement(E.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",className:"entity__control ico-delete clickable",icon:h.o,onClick:function(){var n;n=e.id,window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?")&&d.a.delete("".concat(a.wsUrl,"/api/products/").concat(n,"?sessionKey=").concat(t)).then((function(e){e.data,v(Q(f.filter((function(e){return n!==e.id})),o))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}}),e.urlName&&c.a.createElement("a",{className:"entity__control",rel:"noopener noreferrer",href:"".concat(a.siteUrl,"/product/").concat(e.id,"-").concat(e.urlName,".html"),target:"_blank"},c.a.createElement(E.a,{className:"ico-link clickable",icon:h.e,title:"\u0421\u0441\u044b\u043b\u043a\u0430"}))))})))),c.a.createElement(te,{show:se,dialogSize:"modal-xl",headText:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSuccess:be,onDismiss:function(){oe(!1)}},y&&c.a.createElement(X,{product:y,languages:l,categoryId:J,sessionKey:t,siteUrl:m.a.get("siteUrl"),lang:o,onChangeDate:function(e){e&&(me.showDate=e)},onDeleteSize:function(e){d.a.delete("".concat(a.wsUrl,"/api/productSizes/").concat(e.id,"?sessionKey=").concat(t)).then((function(t){t.data;v(f.map((function(t){if(t.id!==e.productId)return t;var a=y.productSizes.filter((function(t){return t.id!==e.id})),n=Object(p.a)(Object(p.a)({},y),{},{productSizes:a});return N(n),n})))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))},onChangeSize:function(e){e&&(me.sizes||(me.sizes=[]),me.sizes.find((function(t){return t.id===e.id}))?me.sizes=me.sizes.map((function(t){return t.id===e.id?e:t})):me.sizes.push(e))},onChangeTranslation:function(e){e&&(me.translations||(me.translations=[]),me.translations.find((function(t){return t.lang===e.lang}))?me.translations=me.translations.map((function(t){return t.lang===e.lang?e:t})):me.translations.push(e))},onAddSize:function(e){d.a.post("".concat(a.wsUrl,"/api/productSizes/"),Object(p.a)(Object(p.a)({},e),{},{sessionKey:t})).then((function(t){var a=t.data;v(f.map((function(t){if(t.id!==e.productId)return t;var n=t.productSizes?t.productSizes:[];return n.push(a.data),N(Object(p.a)(Object(p.a)({},t),{},{productSizes:n})),Object(p.a)({},y)})))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}})),c.a.createElement(te,{show:$,dialogSize:"modal-sm",headText:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onDismiss:function(){ee(!1)}},c.a.createElement("div",{className:"image-edit"},c.a.createElement("div",{className:"main-image"},c.a.createElement("h3",null,"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),y&&c.a.createElement("div",{className:"main-image-box"},c.a.createElement("img",{className:"main-image-image",width:100,height:100,src:"".concat(a.siteUrl).concat(y.picture),alt:""}),c.a.createElement("div",{className:"main-image-buttons"},c.a.createElement("button",{className:"w-100 btn btn-vertical btn-danger mb-2",onClick:function(){var e,n;e="entity_item_main",n=y.id,d.a.post("".concat(a.wsUrl,"/system/deleteImage"),{sessionKey:t,objectType:e,objectId:n}).then((function(e){var t=e.data;t.data&&(N(Object(p.a)(Object(p.a)({},y),{},{picture:null})),v(f.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{picture:null,image:null}):e}))))}))}},c.a.createElement(E.a,{className:"ico-delete btn-icon",icon:h.o}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),c.a.createElement("form",{action:"".concat(a.siteUrl,"/upload/images/products"),method:"post",encType:"multipart/form-data"},c.a.createElement("input",{className:"hidden",type:"file",id:"mainImg",name:"file",required:!0,onChange:function(e){var t=e.target.parentNode,a=document.getElementById("progressProgress"),n=document.getElementById("progressBar");le(!0),n.classList.add("in-progress"),a.setAttribute("data-progress","0"),a.style.setProperty("--progress","0"),d.a.request({method:"post",url:t.getAttribute("action"),data:new FormData(t),onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a.setAttribute("data-progress","".concat(t,"%")),a.style.setProperty("--progress","calc(".concat(t,"% - 10px)"))}}).then((function(e){var t=e.data,a=Object(p.a)(Object(p.a)({},y),{},{picture:t.data.mainImage,image:t.data.mainImage});N(a),ue(a),v(f.map((function(e){return e.id===t.data.id?a:e})))})).catch((function(){alert("ERROR: Check File Format and Size")})).finally((function(){le(!1),n.classList.remove("in-progress")}))}}),c.a.createElement("input",{type:"hidden",name:"objectType",value:"entity_item_main"}),c.a.createElement("input",{type:"hidden",name:"objectId",value:y.id}),c.a.createElement("input",{type:"hidden",name:"sessionKey",value:t}),c.a.createElement("label",{htmlFor:"mainImg",className:"w-100 btn btn-vertical btn-secondary",onClick:function(){return document.getElementById("mainImg").value=""}},c.a.createElement(E.a,{className:"ico-edit btn-icon",icon:h.j}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))))))),c.a.createElement(te,{show:ce,dialogSize:"modal-sm",noHeader:!0,noFooter:!0,noMaxHeight:!0,onDismiss:function(){return!1}},c.a.createElement("div",{className:"progress",id:"progressProgress","data-progress":"0%"},c.a.createElement("div",{className:"bar",id:"progressBar"}))))},Z=(a(79),a(80),a(81),function(e){var t=e.sessionKey,a=e.config,l=e.languages,i=e.param,o=Object(n.useState)(""),d=Object(s.a)(o,2),g=d[0],b=d[1],f=Object(n.useState)([]),E=Object(s.a)(f,2),h=E[0],O=E[1],y=Object(n.useState)(null),N=Object(s.a)(y,2),k=N[0],S=N[1],w=Object(n.useState)(0),I=Object(s.a)(w,2),D=I[0],C=I[1],_=Object(n.useState)(""),U=Object(s.a)(_,2),K=U[0],x=U[1],T=Object(n.useState)(""),z=Object(s.a)(T,2),F=z[0],P=z[1],B=Object(n.useState)(""),q=Object(s.a)(B,2),M=q[0],A=q[1],H=Object(n.useState)(""),V=Object(s.a)(H,2),Y=V[0],R=V[1];Object(n.useEffect)((function(){m.a.get("lang")||m.a.set("lang","ru"),b(m.a.get("lang","ru")||"ru")}),[]),Object(n.useEffect)((function(){u.get("".concat(a.wsUrl,"/api/categories/techSupport")).then((function(e){var t=e.data;O(function(e,t){return e.map((function(e){var a=e.translations.find((function(e){return e.lang===t})),n=(a||{}).name;return Object(p.a)(Object(p.a)({},e),{},{title:n})}))}(t.data,g))})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}),[t,a,l,i,g,k]),Object(n.useEffect)((function(){if(k){var e=k.translations,t=k.svg,a=k.menuOrder;R(t),C(a);var n=e.find((function(e){return"az"===e.lang})),c=e.find((function(e){return"en"===e.lang})),l=e.find((function(e){return"ru"===e.lang}));x(n?n.name:""),P(c?c.name:""),A(l?l.name:"")}}),[k,g]);return c.a.createElement("div",null,c.a.createElement("ul",{className:"support-blocks"},h&&h.map((function(e){return c.a.createElement("li",{key:e.id,className:"m-1 support-blocks__item"},c.a.createElement("h2",null,e.title),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.svg}}),c.a.createElement("button",{className:"btn btn-secondary",onClick:function(){!function(e){S(e)}(e)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),c.a.createElement(r.b,{to:"/module/entity/".concat(e.name),className:"link"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c"))}))),k&&c.a.createElement("div",{className:"tech-support-edit"},c.a.createElement("div",null,"\u0418\u043d\u0434\u0435\u043a\u0441: ",c.a.createElement(j,{value:D,onChange:function(e){C(e.target.value)}})),"Azerbaijani: ",c.a.createElement(v,{value:K,onChange:function(e){x(e.target.value)}}),"English: ",c.a.createElement(v,{value:F,onChange:function(e){P(e.target.value)}}),"Russian: ",c.a.createElement(v,{value:M,onChange:function(e){A(e.target.value)}}),"SVG: ",c.a.createElement(L,{value:Y,onChange:function(e){R(e.target.value)}}),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={sessionKey:t,svg:Y,menuOrder:D,translations:[{lang:"az",name:K},{lang:"en",name:F},{lang:"ru",name:M}]};u.put("".concat(a.wsUrl,"/api/categories/").concat(k.id),e).then((function(e){e.data;S(null)})).catch((function(e){console.error(e),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438")}))}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("button",{className:"btn",onClick:function(){S(null)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}),$=function(e){var t=e.sessionKey,a=e.config,n=e.languages,l=Object(b.e)(),i=l.module,r=l.param;switch(i){case"settings":return c.a.createElement(N,{sessionKey:t,config:a});case"translations":return c.a.createElement(k,{sessionKey:t,config:a,languages:n});case"entity":return c.a.createElement(P,{sessionKey:t,config:a,languages:n,param:r});case"object":return c.a.createElement(H,{sessionKey:t,config:a,languages:n,param:r});case"category":return c.a.createElement(R,{sessionKey:t,config:a,languages:n,param:r});case"product":return c.a.createElement(W,{sessionKey:t,config:a,languages:n,param:r});case"tech-support":return c.a.createElement(Z,{sessionKey:t,config:a,languages:n,param:r});default:return c.a.createElement("div",null)}},ee=(a(82),function(e){var t=e.sessionKey,a=e.config,l=e.onLogout,i=e.username,o=Object(n.useState)([]),u=Object(s.a)(o,2),g=u[0],b=u[1],f=Object(n.useState)(!1),p=Object(s.a)(f,2),E=p[0],h=p[1],j=Object(n.useState)(""),O=Object(s.a)(j,2),y=O[0],N=O[1],k=Object(n.useState)(""),S=Object(s.a)(k,2),w=S[0],I=S[1],D=Object(n.useState)(""),C=Object(s.a)(D,2),U=C[0],K=C[1];Object(n.useEffect)((function(){d.a.post("".concat(a.wsUrl,"/system/getModules"),{sessionKey:t}).then((function(e){var t=e.data;t.error?l():b(t.data)}))}),[t,a,l]);return c.a.createElement("aside",{className:"sidebar"},c.a.createElement("div",{className:"logo-bar"},c.a.createElement("a",{href:m.a.get("siteUrl"),rel:"noopener noreferrer",target:"_blank",className:"link"},c.a.createElement("img",{className:"logo",src:"".concat(m.a.get("siteUrl")).concat(m.a.get("logo")),alt:""}))),c.a.createElement("ul",{className:"menu"},g.map((function(e){return c.a.createElement("li",{key:e.id,className:"menu__item"},c.a.createElement(r.b,{className:"menu__link","data-id":e.id,to:"/module/".concat(e.module,"/").concat(e.subModule),onClick:function(){!function(e){for(var t=0,a=Object(_.a)(document.querySelectorAll(".menu__link"));t<a.length;t++){a[t].classList.remove("active")}document.querySelector('.menu__link[data-id="'.concat(e,'"]')).classList.add("active")}(e.id)}},e.description))}))),c.a.createElement("button",{className:"btn btn-password",onClick:function(){return h(!0)}},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),c.a.createElement("button",{className:"btn btn-logout",onClick:l},"\u0412\u044b\u0439\u0442\u0438"),c.a.createElement(te,{show:E,dialogSize:"modal-sm",headText:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",dismissText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",successText:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c",onSuccess:function(){if(!w||w!==U)return alert("\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0438\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u043e\u0432\u0442\u043e\u0440\u043e\u043c");var e={username:i,password:y,newPassword:w};d.a.post("".concat(a.wsUrl,"/system/changePassword"),e).then((function(e){var t=e.data;t.data&&t.data.id?l():alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 \u043f\u0430\u0440\u043e\u043b\u044f, \u0432\u043e\u0437\u043e\u0436\u043d\u043e \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0431\u044b\u043b \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e")}))},onDismiss:function(){h(!1)}},c.a.createElement("div",null,"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c: ",c.a.createElement(v,{type:"password",value:y,onChange:function(e){return N(e.target.value)}})),c.a.createElement("div",null,"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c: ",c.a.createElement(v,{type:"password",value:w,onChange:function(e){return I(e.target.value)}})),c.a.createElement("div",null,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435: ",c.a.createElement(v,{type:"password",value:U,onChange:function(e){return K(e.target.value)}}))))}),te=(a(83),function(e){var t=e.show,a=e.dialogSize,n=e.headText,l=e.successText,i=e.dismissText,r=e.noHeader,s=e.noFooter,o=e.noMaxHeight,m=e.onSuccess,u=e.onDismiss,d=e.children;return c.a.createElement("div",{className:C()("modal",{active:t}),onMouseDown:function(e){e.target===e.currentTarget&&u()}},c.a.createElement("div",{className:C()("modal-dialog",a)},c.a.createElement("div",{className:"modal-content"},!r&&c.a.createElement("div",{className:"modal-header"},c.a.createElement("h4",{className:"modal-title"},n),c.a.createElement(E.a,{onClick:u,className:"modal-close-btn",icon:h.n})),c.a.createElement("div",{className:C()("modal-body",{"full-body":o})},d),!s&&c.a.createElement("div",{className:"modal-footer"},l&&c.a.createElement("button",{className:"btn btn-success mr-3",onClick:function(e){m()}},l),c.a.createElement("button",{className:"btn btn-dismiss",onClick:u},i)))))}),ae=a(84).environment,ne=a(85)[ae];var ce=function(){var e=Object(n.useState)(m.a.get("sessionKey")),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){l(m.a.get("sessionKey"))}),[]),Object(n.useEffect)((function(){a?m.a.set("sessionKey",a):m.a.remove("sessionKey")}),[a]),c.a.createElement("div",{className:"App"},a&&c.a.createElement(f,{sessionKey:a,config:ne,onLogout:function(){l("")}}),!a&&c.a.createElement(g,{config:ne,onErrorLogin:function(e){console.log(e)},getUsername:function(e){m.a.set("username",e)},onSuccessLogin:function(e){var t=e.logo,a=e.sessionKey,n=e.siteUrl,c=e.itemLimit;m.a.set("logo",t),m.a.set("siteUrl",n),m.a.set("itemLimit",c),l(a)}}))};a(86),a(87),a(88);console.log("%cATTENTION","color: red; font-family: sans-serif; font-size: 40px"),i.a.render(c.a.createElement(r.a,null,c.a.createElement(ce,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.8d956a07.chunk.js.map